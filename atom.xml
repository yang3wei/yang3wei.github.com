<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[yang3wei的专栏]]></title>
  <link href="http://yang3wei.github.com/atom.xml" rel="self"/>
  <link href="http://yang3wei.github.com/"/>
  <updated>2013-02-05T13:45:09+08:00</updated>
  <id>http://yang3wei.github.com/</id>
  <author>
    <name><![CDATA[yang3wei]]></name>
    <email><![CDATA[88480585@qq.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ant 自动构建 build.xml]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/05/ant-zi-dong-gou-jian-build-dot-xml/"/>
    <updated>2013-02-05T13:10:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/05/ant-zi-dong-gou-jian-build-dot-xml</id>
    <content type="html"><![CDATA[<p>直接上文件：</p>

<!-- more -->




<figure class='code'><figcaption><span>build.xml  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;project</span> <span class="na">name=</span><span class="s">&quot;JavaDynamicCompile&quot;</span> <span class="na">default=</span><span class="s">&quot;execute.class&quot;</span> <span class="na">basedir=</span><span class="s">&quot;.&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;1.define variables~&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span> <span class="na">value=</span><span class="s">&quot;JavaDynamicCompile&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;version&quot;</span> <span class="na">value=</span><span class="s">&quot;1.0&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;author&quot;</span> <span class="na">value=</span><span class="s">&quot;yang3wei&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;src&quot;</span> <span class="na">value=</span><span class="s">&quot;${basedir}/src&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;libs&quot;</span> <span class="na">value=</span><span class="s">&quot;${basedir}/libs&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;build&quot;</span> <span class="na">value=</span><span class="s">&quot;${basedir}/build&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dist&quot;</span> <span class="na">value=</span><span class="s">&quot;${basedir}/dist&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;desktop&quot;</span> <span class="na">value=</span><span class="s">&quot;/Users/user/Desktop&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;res.pkg&quot;</span> <span class="na">value=</span><span class="s">&quot;org/bruce/pocket/tools/res&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;entry.class&quot;</span> <span class="na">value=</span><span class="s">&quot;org.bruce.pocket.tools.entry.Main&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;2.define external.jars.path&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;path</span> <span class="na">id=</span><span class="s">&quot;external.jars.path&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;fileset</span> <span class="na">dir=</span><span class="s">&quot;${libs}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;include</span> <span class="na">name=</span><span class="s">&quot;**/*.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/fileset&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/path&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;prepare&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;3.prepare&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;mkdir</span> <span class="na">dir=</span><span class="s">&quot;${build}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;mkdir</span> <span class="na">dir=</span><span class="s">&quot;${dist}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;compile&quot;</span> <span class="na">depends=</span><span class="s">&quot;prepare&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;5.compile&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;description&gt;</span>将src目录下的资源文件复制到 build目录下面(保留包结构)<span class="nt">&lt;/description&gt;</span>
</span><span class='line'>      <span class="nt">&lt;delete</span> <span class="na">dir=</span><span class="s">&quot;${build}/${res.pkg}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;copy</span> <span class="na">todir=</span><span class="s">&quot;${build}/${res.pkg}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;fileset</span> <span class="na">dir=</span><span class="s">&quot;${src}/${res.pkg}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>              <span class="nt">&lt;include</span> <span class="na">name=</span><span class="s">&quot;**/*.jpg&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>              <span class="nt">&lt;include</span> <span class="na">name=</span><span class="s">&quot;**/*.png&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>              <span class="nt">&lt;include</span> <span class="na">name=</span><span class="s">&quot;**/*.gif&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>              <span class="nt">&lt;include</span> <span class="na">name=</span><span class="s">&quot;**/*.prop&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>              <span class="nt">&lt;include</span> <span class="na">name=</span><span class="s">&quot;**/*.properties&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/fileset&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/copy&gt;</span>
</span><span class='line'>
</span><span class='line'>      <span class="nt">&lt;javac</span> <span class="na">srcdir=</span><span class="s">&quot;${src}&quot;</span> <span class="na">destdir=</span><span class="s">&quot;${build}&quot;</span> <span class="na">encoding=</span><span class="s">&quot;UTF-8&quot;</span> <span class="na">deprecation=</span><span class="s">&quot;true&quot;</span> <span class="na">listfiles=</span><span class="s">&quot;off&quot;</span> <span class="na">fork=</span><span class="s">&quot;true&quot;</span> <span class="na">target=</span><span class="s">&quot;1.6&quot;</span> <span class="na">debug=</span><span class="s">&quot;false&quot;</span> <span class="na">failonerror=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="c">&lt;!--给编译器指定编码，防止出现：&quot;警告： 编码 GBK 的不可映射字符&quot;--&gt;</span>
</span><span class='line'>          <span class="nt">&lt;compilerarg</span> <span class="na">line=</span><span class="s">&quot;-encoding UTF-8 &quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;classpath</span> <span class="na">refid=</span><span class="s">&quot;external.jars.path&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/javac&gt;</span>
</span><span class='line'>      <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;compile finished!&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;execute.class&quot;</span> <span class="na">depends=</span><span class="s">&quot;compile&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;${name}.execute&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;java</span> <span class="na">classname=</span><span class="s">&quot;${entry.class}&quot;</span> <span class="na">classpath=</span><span class="s">&quot;${build}&quot;</span> <span class="na">fork=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;sysproperty</span> <span class="na">key=</span><span class="s">&quot;file.encoding&quot;</span> <span class="na">value=</span><span class="s">&quot;UTF-8&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;classpath</span> <span class="na">refid=</span><span class="s">&quot;external.jars.path&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/java&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;package2jar&quot;</span> <span class="na">depends=</span><span class="s">&quot;compile&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;${name}.package2jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;jar</span> <span class="na">destfile=</span><span class="s">&quot;${dist}/${name}${version}.jar&quot;</span> <span class="na">basedir=</span><span class="s">&quot;${build}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;manifest&gt;</span>
</span><span class='line'>              <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">&quot;Created-By&quot;</span> <span class="na">value=</span><span class="s">&quot;${author}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>              <span class="nt">&lt;attribute</span> <span class="na">name=</span><span class="s">&quot;Main-Class&quot;</span> <span class="na">value=</span><span class="s">&quot;${entry.class}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/manifest&gt;</span>
</span><span class='line'>          <span class="nt">&lt;zipfileset</span> <span class="na">excludes=</span><span class="s">&quot;META-INF/*.SF&quot;</span> <span class="na">src=</span><span class="s">&quot;./libs/antlr-2.7.4.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;zipfileset</span> <span class="na">excludes=</span><span class="s">&quot;META-INF/*.SF&quot;</span> <span class="na">src=</span><span class="s">&quot;./libs/chardet-1.0.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;zipfileset</span> <span class="na">excludes=</span><span class="s">&quot;META-INF/*.SF&quot;</span> <span class="na">src=</span><span class="s">&quot;./libs/cpdetector_1.0.10.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;zipfileset</span> <span class="na">excludes=</span><span class="s">&quot;META-INF/*.SF&quot;</span> <span class="na">src=</span><span class="s">&quot;./libs/jdom.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;zipfileset</span> <span class="na">excludes=</span><span class="s">&quot;META-INF/*.SF&quot;</span> <span class="na">src=</span><span class="s">&quot;./libs/pdfbox-1.6.0.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>          <span class="nt">&lt;zipfileset</span> <span class="na">excludes=</span><span class="s">&quot;META-INF/*.SF&quot;</span> <span class="na">src=</span><span class="s">&quot;./libs/PDFRenderer-0.9.1.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/jar&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;execute.jar&quot;</span> <span class="na">depends=</span><span class="s">&quot;package2jar&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;${name}.jar.execute&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;java</span> <span class="na">fork=</span><span class="s">&quot;true&quot;</span> <span class="na">failonerror=</span><span class="s">&quot;true&quot;</span> <span class="na">jar=</span><span class="s">&quot;${dist}/${name}${version}.jar&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;sysproperty</span> <span class="na">key=</span><span class="s">&quot;file.encoding&quot;</span> <span class="na">value=</span><span class="s">&quot;UTF-8&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/java&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;copy2desktop&quot;</span> <span class="na">depends=</span><span class="s">&quot;package2jar&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;echo</span> <span class="na">message=</span><span class="s">&quot;${name}.copy2desktop&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;copy</span> <span class="na">file=</span><span class="s">&quot;${dist}/${name}${version}.jar&quot;</span> <span class="na">tofile=</span><span class="s">&quot;${desktop}/${name}${version}.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;clean&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;delete</span> <span class="na">dir=</span><span class="s">&quot;${build}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;delete</span> <span class="na">file=</span><span class="s">&quot;${dist}/${name}${version}.jar&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>      <span class="nt">&lt;delete</span> <span class="na">dir=</span><span class="s">&quot;${dist}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;target</span> <span class="na">name=</span><span class="s">&quot;rerun&quot;</span> <span class="na">depends=</span><span class="s">&quot;clean&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;ant</span> <span class="na">antfile=</span><span class="s">&quot;build.xml&quot;</span> <span class="na">target=</span><span class="s">&quot;execute.class&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/target&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/project&gt;</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Java 图片缩放工具类]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/05/java-tu-pian-suo-fang-gong-ju-lei/"/>
    <updated>2013-02-05T12:48:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/05/java-tu-pian-suo-fang-gong-ju-lei</id>
    <content type="html"><![CDATA[<p>直接上代码：</p>

<!-- more -->




<figure class='code'><figcaption><span>ImageResizer.java  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">bruce</span><span class="o">.</span><span class="na">pocket</span><span class="o">.</span><span class="na">tools</span><span class="o">.</span><span class="na">utils</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.awt.Image</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.awt.image.BufferedImage</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.awt.image.RenderedImage</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">javax.imageio.ImageIO</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.sun.image.codec.jpeg.JPEGCodec</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">com.sun.image.codec.jpeg.JPEGImageEncoder</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * @author Bruce Yang</span>
</span><span class='line'><span class="cm"> * 调整图片大小~</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ImageResizer</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">ImageResizer</span><span class="o">.</span><span class="na">resizeJpgImage</span><span class="o">(</span><span class="s">&quot;c:/test.JPG&quot;</span><span class="o">,</span> <span class="s">&quot;c:/test4.jpg&quot;</span><span class="o">,</span> <span class="mi">400</span><span class="o">,</span> <span class="mi">300</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 图像缩放 png 格式~</span>
</span><span class='line'><span class="cm">  * @param srcImgPath 原图片文件路径</span>
</span><span class='line'><span class="cm">  * @param destImgPath 生成的缩略图片文件路径</span>
</span><span class='line'><span class="cm">  * @param destWidth 生成图片的宽度</span>
</span><span class='line'><span class="cm">  * @param destHeight 生成图片的高度</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">resizePngImage</span><span class="o">(</span><span class="n">String</span> <span class="n">srcImgPath</span><span class="o">,</span> <span class="n">String</span> <span class="n">destImgPath</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destWidth</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destHeight</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">resizePngImage</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">srcImgPath</span><span class="o">),</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">destImgPath</span><span class="o">),</span> <span class="n">destWidth</span><span class="o">,</span> <span class="n">destHeight</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">resizePngImage</span><span class="o">(</span><span class="n">File</span> <span class="n">srcFile</span><span class="o">,</span> <span class="n">File</span> <span class="n">destFile</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destWidth</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destHeight</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">(!</span><span class="n">srcFile</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>              <span class="k">return</span><span class="o">;</span>
</span><span class='line'>          <span class="o">}</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">// .DS_Store 这个文件害我调了半天，主要是 这个方法里面不包含文件名判断的逻辑，直接就给报错中断执行了~</span>
</span><span class='line'><span class="c1">//           System.err.println(srcFile.getAbsolutePath());</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">BufferedImage</span> <span class="n">srcBi</span> <span class="o">=</span> <span class="n">ImageIO</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">srcFile</span><span class="o">);</span>
</span><span class='line'>          <span class="c1">// Image.SCALE_SMOOTH 的缩略算法 生成缩略图片的平滑度的 优先级比速度高 生成的图片质量比较好 但速度慢~</span>
</span><span class='line'>          <span class="n">Image</span> <span class="n">img</span> <span class="o">=</span> <span class="n">srcBi</span><span class="o">.</span><span class="na">getScaledInstance</span><span class="o">(</span><span class="n">destWidth</span><span class="o">,</span> <span class="n">destHeight</span><span class="o">,</span> <span class="n">Image</span><span class="o">.</span><span class="na">SCALE_SMOOTH</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">BufferedImage</span> <span class="n">targetBi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedImage</span><span class="o">(</span><span class="n">destWidth</span><span class="o">,</span> <span class="n">destHeight</span><span class="o">,</span> <span class="n">BufferedImage</span><span class="o">.</span><span class="na">TYPE_INT_RGB</span><span class="o">);</span>
</span><span class='line'>          <span class="n">targetBi</span><span class="o">.</span><span class="na">getGraphics</span><span class="o">().</span><span class="na">drawImage</span><span class="o">(</span><span class="n">img</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">writePNGImage</span><span class="o">(</span><span class="n">targetBi</span><span class="o">,</span> <span class="n">destFile</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">());</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 图像缩放 jpg 格式~</span>
</span><span class='line'><span class="cm">  * @param srcImgPath 原图片文件路径</span>
</span><span class='line'><span class="cm">  * @param destImgPath 生成的缩略图片文件路径</span>
</span><span class='line'><span class="cm">  * @param destWidth 生成图片的宽度</span>
</span><span class='line'><span class="cm">  * @param destHeight 生成图片的高度</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">resizeJpgImage</span><span class="o">(</span><span class="n">String</span> <span class="n">srcImgPath</span><span class="o">,</span> <span class="n">String</span> <span class="n">destImgPath</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destWidth</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destHeight</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">resizeJpgImage</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">srcImgPath</span><span class="o">),</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">destImgPath</span><span class="o">),</span> <span class="n">destWidth</span><span class="o">,</span> <span class="n">destHeight</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">resizeJpgImage</span><span class="o">(</span><span class="n">File</span> <span class="n">srcFile</span><span class="o">,</span> <span class="n">File</span> <span class="n">destFile</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destWidth</span><span class="o">,</span> <span class="kt">int</span> <span class="n">destHeight</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">(!</span><span class="n">srcFile</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>              <span class="k">return</span><span class="o">;</span>
</span><span class='line'>          <span class="o">}</span>
</span><span class='line'>          <span class="n">Image</span> <span class="n">srcImg</span> <span class="o">=</span> <span class="n">ImageIO</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">srcFile</span><span class="o">);</span>
</span><span class='line'>          <span class="n">BufferedImage</span> <span class="n">targetBi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedImage</span><span class="o">(</span><span class="n">destWidth</span><span class="o">,</span> <span class="n">destHeight</span><span class="o">,</span> <span class="n">BufferedImage</span><span class="o">.</span><span class="na">TYPE_INT_RGB</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="c1">// Image.SCALE_SMOOTH 的缩略算法 生成缩略图片的平滑度的 优先级比速度高 生成的图片质量比较好 但速度慢~</span>
</span><span class='line'>          <span class="n">Image</span> <span class="n">img</span> <span class="o">=</span> <span class="n">srcImg</span><span class="o">.</span><span class="na">getScaledInstance</span><span class="o">(</span><span class="n">destWidth</span><span class="o">,</span> <span class="n">destHeight</span><span class="o">,</span> <span class="n">Image</span><span class="o">.</span><span class="na">SCALE_SMOOTH</span><span class="o">);</span>
</span><span class='line'>          <span class="n">targetBi</span><span class="o">.</span><span class="na">getGraphics</span><span class="o">().</span><span class="na">drawImage</span><span class="o">(</span><span class="n">img</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">FileOutputStream</span> <span class="n">fos</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">destFile</span><span class="o">);</span>
</span><span class='line'>          <span class="n">JPEGImageEncoder</span> <span class="n">encoder</span> <span class="o">=</span> <span class="n">JPEGCodec</span><span class="o">.</span><span class="na">createJPEGEncoder</span><span class="o">(</span><span class="n">fos</span><span class="o">);</span>
</span><span class='line'>          <span class="n">encoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">targetBi</span><span class="o">);</span>
</span><span class='line'>          <span class="n">fos</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 由高清背景图片生成 ipad 所用背景图片~</span>
</span><span class='line'><span class="cm">  * 将 2560 * 3840 的图片截除上下两部分，缩放为原来的 0.3 倍（得到的图片的大小为 768 * 1024）~</span>
</span><span class='line'><span class="cm">  * @param imgsrc</span>
</span><span class='line'><span class="cm">  * @param imgdist</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">genIpadBg</span><span class="o">(</span><span class="n">String</span> <span class="n">srcImgPath</span><span class="o">,</span> <span class="n">String</span> <span class="n">destImgPath</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">File</span> <span class="n">srcImgFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">srcImgPath</span><span class="o">);</span>
</span><span class='line'>      <span class="n">File</span> <span class="n">destImgFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">destImgPath</span><span class="o">);</span>
</span><span class='line'>      <span class="n">genIpadBg</span><span class="o">(</span><span class="n">srcImgFile</span><span class="o">,</span> <span class="n">destImgFile</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">genIpadBg</span><span class="o">(</span><span class="n">File</span> <span class="n">srcImgFile</span><span class="o">,</span> <span class="n">File</span> <span class="n">destImgFile</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="o">(!</span><span class="n">srcImgFile</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>              <span class="k">return</span><span class="o">;</span>
</span><span class='line'>          <span class="o">}</span>
</span><span class='line'>          <span class="n">BufferedImage</span> <span class="n">srcBi</span> <span class="o">=</span> <span class="n">ImageIO</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">srcImgFile</span><span class="o">);</span>
</span><span class='line'>          <span class="n">srcBi</span> <span class="o">=</span> <span class="n">srcBi</span><span class="o">.</span><span class="na">getSubimage</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">213</span><span class="o">,</span> <span class="n">srcBi</span><span class="o">.</span><span class="na">getWidth</span><span class="o">(),</span> <span class="mi">3414</span><span class="o">);</span>
</span><span class='line'>          <span class="n">Image</span> <span class="n">img</span> <span class="o">=</span> <span class="n">srcBi</span><span class="o">.</span><span class="na">getScaledInstance</span><span class="o">(</span><span class="mi">768</span><span class="o">,</span> <span class="mi">1024</span><span class="o">,</span> <span class="n">Image</span><span class="o">.</span><span class="na">SCALE_SMOOTH</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">BufferedImage</span> <span class="n">destBi</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedImage</span><span class="o">(</span><span class="mi">768</span><span class="o">,</span> <span class="mi">1024</span><span class="o">,</span> <span class="n">BufferedImage</span><span class="o">.</span><span class="na">TYPE_4BYTE_ABGR</span><span class="o">);</span>
</span><span class='line'>          <span class="n">destBi</span><span class="o">.</span><span class="na">getGraphics</span><span class="o">().</span><span class="na">drawImage</span><span class="o">(</span><span class="n">img</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">ImageIO</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">destBi</span><span class="o">,</span> <span class="s">&quot;png&quot;</span><span class="o">,</span> <span class="n">destImgFile</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 根据图片路径 读取图片文件</span>
</span><span class='line'><span class="cm">  * @param fileName</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="n">BufferedImage</span> <span class="nf">readImage</span><span class="o">(</span><span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">BufferedImage</span> <span class="n">bi</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>          <span class="n">bi</span> <span class="o">=</span> <span class="n">ImageIO</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">fileName</span><span class="o">));</span>
</span><span class='line'>          <span class="k">return</span> <span class="n">bi</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>          <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 生成新的图片文件</span>
</span><span class='line'><span class="cm">  * @param im</span>
</span><span class='line'><span class="cm">  * @param formatName</span>
</span><span class='line'><span class="cm">  * @param fileName</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">writeImage</span><span class="o">(</span><span class="n">RenderedImage</span> <span class="n">ri</span><span class="o">,</span> <span class="n">String</span> <span class="n">fileformat</span><span class="o">,</span> <span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="kt">boolean</span> <span class="n">result</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">result</span> <span class="o">=</span> <span class="n">ImageIO</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">ri</span><span class="o">,</span> <span class="n">fileformat</span><span class="o">,</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">fileName</span><span class="o">));</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 转换图片格式 到 PNG</span>
</span><span class='line'><span class="cm">  * @param im</span>
</span><span class='line'><span class="cm">  * @param fileName</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">writePNGImage</span><span class="o">(</span><span class="n">RenderedImage</span> <span class="n">ri</span><span class="o">,</span> <span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nf">writeImage</span><span class="o">(</span><span class="n">ri</span><span class="o">,</span> <span class="s">&quot;PNG&quot;</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 转换图片格式 到 jpg</span>
</span><span class='line'><span class="cm">  * @param im</span>
</span><span class='line'><span class="cm">  * @param fileName</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">writeJPEGImage</span><span class="o">(</span><span class="n">RenderedImage</span> <span class="n">ri</span><span class="o">,</span> <span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nf">writeImage</span><span class="o">(</span><span class="n">ri</span><span class="o">,</span> <span class="s">&quot;JPEG&quot;</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * @param bi</span>
</span><span class='line'><span class="cm">  * @param destFile</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">writeJPEGImage</span><span class="o">(</span><span class="n">BufferedImage</span> <span class="n">bi</span><span class="o">,</span> <span class="n">File</span> <span class="n">destFile</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">FileOutputStream</span> <span class="n">fos</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileOutputStream</span><span class="o">(</span><span class="n">destFile</span><span class="o">);</span>
</span><span class='line'>          <span class="n">JPEGImageEncoder</span> <span class="n">encoder</span> <span class="o">=</span> <span class="n">JPEGCodec</span><span class="o">.</span><span class="na">createJPEGEncoder</span><span class="o">(</span><span class="n">fos</span><span class="o">);</span>
</span><span class='line'>          <span class="n">encoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">bi</span><span class="o">);</span>
</span><span class='line'>          <span class="n">fos</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'>          <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>          <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 转换图片格式 到 gif 不知到好用不</span>
</span><span class='line'><span class="cm">  * @param im</span>
</span><span class='line'><span class="cm">  * @param fileName</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">writeGIFImage</span><span class="o">(</span><span class="n">RenderedImage</span> <span class="n">ri</span><span class="o">,</span> <span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nf">writeImage</span><span class="o">(</span><span class="n">ri</span><span class="o">,</span> <span class="s">&quot;GIF&quot;</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 转换图片格式 到 BMP</span>
</span><span class='line'><span class="cm">  * @param im</span>
</span><span class='line'><span class="cm">  * @param fileName</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">writeBMPImage</span><span class="o">(</span><span class="n">RenderedImage</span> <span class="n">ri</span><span class="o">,</span> <span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nf">writeImage</span><span class="o">(</span><span class="n">ri</span><span class="o">,</span> <span class="s">&quot;BMP&quot;</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Java 执行 Mac(Unix) 脚本命令]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/05/java-zhi-xing-mac-unix-jiao-ben-ming-ling/"/>
    <updated>2013-02-05T12:44:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/05/java-zhi-xing-mac-unix-jiao-ben-ming-ling</id>
    <content type="html"><![CDATA[<p>直接上代码：</p>

<!-- more -->




<figure class='code'><figcaption><span>UnixScript.java  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">bruce</span><span class="o">.</span><span class="na">pocket</span><span class="o">.</span><span class="na">tools</span><span class="o">.</span><span class="na">utils</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.BufferedWriter</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * @author Bruce Yang</span>
</span><span class='line'><span class="cm"> *</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UnixScript</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 执行 mac(unix) 脚本命令~</span>
</span><span class='line'><span class="cm">  * @param command</span>
</span><span class='line'><span class="cm">  * @return</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">execute</span><span class="o">(</span><span class="n">String</span> <span class="n">command</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">String</span><span class="o">[]</span> <span class="n">cmd</span> <span class="o">=</span> <span class="o">{</span><span class="s">&quot;/bin/bash&quot;</span><span class="o">};</span>
</span><span class='line'>      <span class="n">Runtime</span> <span class="n">rt</span> <span class="o">=</span> <span class="n">Runtime</span><span class="o">.</span><span class="na">getRuntime</span><span class="o">();</span>
</span><span class='line'>      <span class="n">Process</span> <span class="n">proc</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">proc</span> <span class="o">=</span> <span class="n">rt</span><span class="o">.</span><span class="na">exec</span><span class="o">(</span><span class="n">cmd</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">// 打开流</span>
</span><span class='line'>      <span class="n">OutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">();</span>
</span><span class='line'>      <span class="n">BufferedWriter</span> <span class="n">bw</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="n">OutputStreamWriter</span><span class="o">(</span><span class="n">os</span><span class="o">));</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">bw</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">command</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">bw</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
</span><span class='line'>          <span class="n">bw</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'>          
</span><span class='line'>          <span class="cm">/** 真奇怪，把控制台的输出打印一遍之后竟然能正常终止了~ */</span>
</span><span class='line'>          <span class="n">readConsole</span><span class="o">(</span><span class="n">proc</span><span class="o">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="cm">/** waitFor() 的作用在于 java 程序是否等待 Terminal 执行脚本完毕~ */</span>
</span><span class='line'>          <span class="n">proc</span><span class="o">.</span><span class="na">waitFor</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      <span class="kt">int</span> <span class="n">retCode</span> <span class="o">=</span> <span class="n">proc</span><span class="o">.</span><span class="na">exitValue</span><span class="o">();</span>
</span><span class='line'><span class="c1">//       System.err.println(&quot;unix script retCode = &quot; + retCode);</span>
</span><span class='line'>      <span class="k">if</span> <span class="o">(</span><span class="n">retCode</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">readConsole</span><span class="o">(</span><span class="n">proc</span><span class="o">);</span>
</span><span class='line'>          <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;UnixScriptUil.execute 出错了!!&quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">retCode</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">  * 读取控制命令的输出结果</span>
</span><span class='line'><span class="cm">  * 原文链接：http://lavasoft.blog.51cto.com/62575/15599</span>
</span><span class='line'><span class="cm">  * @param cmd 命令</span>
</span><span class='line'><span class="cm">  * @return 控制命令的输出结果</span>
</span><span class='line'><span class="cm">  * @throws IOException</span>
</span><span class='line'><span class="cm">  */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">readConsole</span><span class="o">(</span><span class="n">Process</span> <span class="n">process</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">StringBuffer</span> <span class="n">cmdOut</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
</span><span class='line'>      <span class="n">InputStream</span> <span class="n">fis</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>
</span><span class='line'>      <span class="n">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">fis</span><span class="o">));</span>
</span><span class='line'>      
</span><span class='line'>      <span class="n">String</span> <span class="n">line</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>              <span class="n">cmdOut</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">line</span><span class="o">).</span><span class="na">append</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;line.separator&quot;</span><span class="o">));</span>
</span><span class='line'>          <span class="o">}</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'><span class="c1">//       System.out.println(&quot;执行系统命令后的控制台输出为：\n&quot; + cmdOut.toString());</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">cmdOut</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">trim</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Java Get classes In Package]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/05/java-get-classes-in-package/"/>
    <updated>2013-02-05T12:30:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/05/java-get-classes-in-package</id>
    <content type="html"><![CDATA[<p>直接上代码：</p>

<!-- more -->




<figure class='code'><figcaption><span>GetClassesInPackage.java  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">bruce</span><span class="o">.</span><span class="na">pocket</span><span class="o">.</span><span class="na">tools</span><span class="o">.</span><span class="na">utils</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.jar.JarEntry</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.jar.JarInputStream</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * @author Bruce Yang</span>
</span><span class='line'><span class="cm"> * http://www.roseindia.net/java/java-get-example/get-classes-package.shtml</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">GetClassesInPackage</span> <span class="o">{</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="n">getJar</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">getClasseNamesInPackage</span><span class="o">(</span><span class="n">String</span> <span class="n">jarName</span><span class="o">,</span> <span class="n">String</span> <span class="n">packageName</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="o">(</span><span class="n">getJar</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Jar \&quot;&quot;</span> <span class="o">+</span> <span class="n">jarName</span> <span class="o">+</span> <span class="s">&quot;\&quot; for \&quot;&quot;</span> <span class="o">+</span> <span class="n">packageName</span> <span class="o">+</span> <span class="sc">&#39;\&quot;&#39;</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">arrayList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
</span><span class='line'>      <span class="c1">// replaceAll 第一个参数是正则字符串，第二个参数是普通的替换字符串，不需要对正则进行转义~</span>
</span><span class='line'>      <span class="n">packageName</span> <span class="o">=</span> <span class="n">packageName</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;\\.&quot;</span><span class="o">,</span> <span class="s">&quot;/&quot;</span><span class="o">);</span>
</span><span class='line'>      
</span><span class='line'>      <span class="k">try</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">JarInputStream</span> <span class="n">jarFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JarInputStream</span><span class="o">(</span><span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="n">jarName</span><span class="o">));</span>
</span><span class='line'>          <span class="n">JarEntry</span> <span class="n">jarEntry</span><span class="o">;</span>
</span><span class='line'>          
</span><span class='line'>          <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>              <span class="n">jarEntry</span> <span class="o">=</span> <span class="n">jarFile</span><span class="o">.</span><span class="na">getNextJarEntry</span><span class="o">();</span>
</span><span class='line'>              <span class="k">if</span> <span class="o">(</span><span class="n">jarEntry</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                  <span class="k">break</span><span class="o">;</span>
</span><span class='line'>              <span class="o">}</span>
</span><span class='line'>              <span class="k">if</span> <span class="o">((</span><span class="n">jarEntry</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">startsWith</span><span class="o">(</span><span class="n">packageName</span><span class="o">))</span>
</span><span class='line'>                      <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">jarEntry</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">endsWith</span><span class="o">(</span><span class="s">&quot;.class&quot;</span><span class="o">)))</span> <span class="o">{</span>
</span><span class='line'>                  <span class="n">arrayList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">jarEntry</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="s">&quot;.&quot;</span><span class="o">));</span>
</span><span class='line'>              <span class="o">}</span>
</span><span class='line'>          <span class="o">}</span>
</span><span class='line'>      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">arrayList</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">String</span> <span class="n">jarPath</span> <span class="o">=</span> <span class="s">&quot;/Users/user/Desktop/JavaDynamicComiple.jar&quot;</span><span class="o">;</span>
</span><span class='line'>      <span class="n">String</span> <span class="n">pkgPath</span> <span class="o">=</span> <span class="s">&quot;org.bruce.pocket.tools.items&quot;</span><span class="o">;</span>
</span><span class='line'>      <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">GetClassesInPackage</span><span class="o">.</span><span class="na">getClasseNamesInPackage</span><span class="o">(</span><span class="n">jarPath</span><span class="o">,</span> <span class="n">pkgPath</span><span class="o">);</span>
</span><span class='line'>      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Found: &quot;</span><span class="o">);</span>
</span><span class='line'>      <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">item</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>          <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress 代码高亮]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/03/octopress-dai-ma-gao-liang/"/>
    <updated>2013-02-03T17:43:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/03/octopress-dai-ma-gao-liang</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://xiongbupt.github.com/blog/2012/06/08/octopressdai-ma-gao-liang/">http://xiongbupt.github.com/blog/2012/06/08/octopressdai-ma-gao-liang/</a><br/>
现在博客已经基本搭建完毕，下面对从<code>jekyll bootstrap</code>搬迁到做一个基本介绍。首先是代码高亮部分，下面的文章主要来自于<a href="http://octopress.org/docs/blogging/code/" title="Octopress代码高亮">Octopress关于代码高亮部分</a>。文章主要是对上面的内容进行一个简单的翻译，以及简单介绍从<code>jekyll bootstrap</code>上面的代码移动到<code>Octopress</code>上面做一个简单的介绍。</p>

<!-- more -->


<h2>共享代码片段</h2>

<p>在博客上共享代码片段应该是简单的，并且代码应该具有简单的高亮功能。Octopress也具有这种功能，在<code>jekyll</code>上，其使用的是<code>pygment</code>来实现代码高亮的功能，Octopress实现的更好。在Octopress上面有下面几种选择：</p>

<ul>
<li>使用<a href="http://ethanschoonover.com/solarized" title="Solarized高亮">Solarized高亮</a>主题来实现（该方法未尝试，实际上不知道怎么弄，只是凭借个人的猜测）。</li>
<li>使用Gist的代码内嵌。</li>
<li>从自己的文件系统中插入代码片段，该代码具有下载链接。</li>
<li>简单的内嵌代码块带有<code>&lt;div class='bogus-wrapper'&gt;&lt;notextile&gt;&lt;figure&gt;</code>和<code>&lt;figcaption&gt;</code>和可选的下载链接。</li>
<li>Pygments caching（似乎还是使用Pygnment来实现代码高亮）。</li>
<li>通过javascript脚本使得代码具有行号。</li>
</ul>


<h3>Solarized高亮</h3>

<p>这部分内容自己没有尝试，待更新。</p>

<h3>反引号的代码块</h3>

<p>同时使用<code>backtick_codelock</code>过滤器，可以使用Github的最适用的代码高亮块。使用三个反引号开始，后面跟着一个空格，接下来是高亮语言，具体语法如下所示：</p>

<pre><code>  ``` [language] [title] [url] [link text]
  code snippet
  ```
</code></pre>

<p>按照上述方式便可以对相应的代码块进行高亮，如下面的例子。</p>

<h4>example1（原文)</h4>

<pre><code> ```
 $sudo give me a hug
 ```
</code></pre>

<p>按照上面的方式在文本中输入之后，产生的效果如下：
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$sudo give me a hug</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h4>example2带有说明和连接</h4>

<pre><code> ``` ruby Discover if a number is prime http://www.noulakaz.net/weblog/2007/03/18/a-regular-expression-to-check-for-prime-numbers/ Source Article
 class Fixnum
   def prime?
     ('1' * self) !~ /^1?$|^(11+?)\1+$/
   end
 end
 ```
</code></pre>

<p>产生的代码片段如下：</p>

<figure class='code'><figcaption><span>Discover if a number is prime</span><a href='http://www.noulakaz.net/weblog/2007/03/18/a-regular-expression-to-check-for-prime-numbers/'>Source Article</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Fixnum</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">prime?</span>
</span><span class='line'>    <span class="p">(</span><span class="s1">&#39;1&#39;</span> <span class="o">*</span> <span class="nb">self</span><span class="p">)</span> <span class="o">!~</span> <span class="sr">/^1?$|^(11+?)\1+$/</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Gist代码内嵌</h3>

<p>当使用这种方式的代码高亮时，仅仅需要的是gist的id，对gist不了解的可以上google搜索下，个人的理解是，gist对每段用户上传的代码段都会有一个对应的id，当用户给出对应的代码的id后，将会从gist上面下载对应的已经高亮的html文件，最终在用户的页面上显示出来。</p>

<h4>语法</h4>

<pre><code> { % gist gist_id [filename] %}
</code></pre>

<h4>example</h4>

<pre><code> { % gist 996818 %}
</code></pre>

<p>上述代码的片段在Octopress中的markdown文件中输入之后，得到的效果如下：</p>

<div><script src='https://gist.github.com/996818.js'></script>
<noscript><pre><code>@@ -590,7 +590,7 @@ class SpritesTest &lt; Test::Unit::TestCase
  it &quot;should generate a sprite from nested folders&quot; do
    css = render &lt;&lt;-SCSS
-     @import &quot;nested/*.png&quot;;
+     @import &quot;nested/**/*.png&quot;;
      @include all-nested-sprites;
    SCSS
    assert_correct css, &lt;&lt;-CSS</code></pre></noscript></div>


<p>如果一个gist的id对应有多个文件，这时需要对想要高亮的文件添加文件名，具体语法如下所示：</p>

<pre><code>  { % gist 1059334 svg_bullets.rb %}
  { % gist 1059334 usage.scss %}
</code></pre>

<p>总体来说，gist代码高亮是很简单的，只是需要将代码上传到<a href="https://gist.github.com/">gist</a>，然后获取相应的id然后按照上面的语法进行设置即可。只是每次在写博客时，都需要对博客文章中的代码拷贝到网址上生成，在没有网时，代码高亮比较麻烦。</p>

<h3>从本地文件中引入代码</h3>

<p>这种方式在Arch上面有个小问题，在Arch上的报错如下所示：</p>

<figure class='code'><figcaption><span>Arch error</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Building site: <span class="nb">source</span> -&gt; public
</span><span class='line'>  File <span class="s2">&quot;&lt;string&gt;&quot;</span>, line 1
</span><span class='line'>    import sys; print sys.executable
</span><span class='line'>                        ^
</span><span class='line'>SyntaxError: invalid syntax
</span></code></pre></td></tr></table></div></figure>


<p>上网搜索之后在<a href="http://blog.gonzih.org/blog/2011/09/21/fix-octopress-pygments-error-on-arch-linux/">该网址</a>发现解决方法。 <br/>
这种方式需要使用python2来完成代码高亮的操作，由于Arch的python指向的是python3，而python3无法完成该功能，因此需要在<code>plugin</code>文件夹中再添加一个新文件，指定在<code>Octopress</code>运行时使用的是python2，具体增加的文件内容如下所示，文件的名字为<code>ruby_python_arch_linux_fix.rb</code><br/>
File /Users/user/octopress/source/downloads/code/ruby/ruby_python_arch_linux_fix.rb could not be found</p>

<p>在完成该操作之后，仍然报错，得到如下错误：</p>

<figure class='code'><figcaption><span>Error message</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>LoadError: Could not open library <span class="s1">&#39;lib.so&#39;</span>: lib.so: cannot open shared object file: No such file or directory
</span></code></pre></td></tr></table></div></figure>


<p>参考<a href="https://github.com/tmm1/pygments.rb/issues/10">该网址</a>的由<code>elidos</code>提出的解决方法可以知道是<code>rubypython</code>自身的bug，需要修复，具体修改文件在Arch上面为<code>/usr/lib/ruby/gems/1.9.1/gems/rubypython-0.5.3/lib/rubypython/pythonexec.rb</code>，修改位置大概在126行左右，修改后的内容如下所示：</p>

<figure class='code'><figcaption><span>fix the rubypython bug</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'><span class="gd">--126 %x(#{@python} -c &quot;#{command}&quot;).chomp if @python</span>
</span><span class='line'><span class="gi">++126 %x(&quot;#{@python} -c #{command}&quot;).chomp if @python</span>
</span></code></pre></td></tr></table></div></figure>


<p>完成该修改之后，便可以使用这种包含代码的方式来进行代码高亮。 <br/>
使用这种方式的语法也参见<a href="http://octopress.org/docs/blogging/code/" title="Octopress代码高亮">octopress手册</a>，此处不再进行详细说明，这种方式的代码是单独存放成一个文件保存在本地系统下，当代码长度较长，又不想放在博客的正文中时，使用该方法比较好。<br/>
简单记录下这种方式的语法如下所示：（目前不知道为什么，在octopress中输入{ %的方式都会进行代码解析，所以上面的{ %都进行了添加了<code></code>来取消，在实际文章中输入的时候，将<code></code>取消掉）</p>

<pre><code>{ % include_code [title] [lang:language] path/to/file %}
</code></pre>

<p>其中的中括号的内容是可选的，具体语言便是这种方式，当需要强制高亮时，需要指定<code>lang:</code>这个参数，很好用。</p>

<h3>使用Code Block的方式</h3>

<p>目前自己的博客这种方式用的比较多，前面写的文章目前全部修改成为了这种方式，感觉这种方式和<code>pygnment</code>的方式差不多，之前全部采用的是<code>pygnment</code>的方式，利用正则表达式把所有文章的代码高亮全部改成了使用<code>code block</code>。它的具体语法如下所示：（与<code>pygnment</code>很相似，指定语言即可）</p>

<pre><code>  { % codeblock [title] [lang:language] [url] [link text] %}
  code snippet
  { % endcodeblock %}
</code></pre>

<p>和之前描述的类似，中括号的内容是可选的。</p>

<h4>使用正则表达式替换</h4>

<p>这种方式可以替换博客内容，使得博客中所有文章的代码高亮使用<code>Code Block</code>。自己使用的是<code>sed</code>来完成的操作，似乎都没有用到正则表达式，只是简单的替换，做个简单的记录吧。</p>

<h5>替换方法</h5>

<p>进入到<code>source/_posts</code>目录下，在终端输入如下代码：</p>

<figure class='code'><figcaption><span>Sed查看文章代码</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sed -n <span class="s1">&#39;s/\(\ highlight\ \)/\1/p&#39;</span> *
</span></code></pre></td></tr></table></div></figure>


<p>上面将会把当前目录下的含有{\% highlight的文件的那行都显示出来，中间会将含有该特殊字符的行都打印出来，中间可以看到自己的博客内容都用到了哪些类型文件的语法高亮，将对应的代码高亮进行替换即可。<br/>
其实这种方式就是简单的搜索替换，应该算不上使用正则表达式了，只是写下来做下笔记了，防止以后再用具体操作如下所示：</p>

<figure class='code'><figcaption><span>Sed替换文件内容</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sed -i <span class="s1">&#39;s/\(\ highlight\ bash %}\)/\ codeblock\ lang:bash\ %}/&#39;</span> *
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress 中的 SEO]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/03/octopress-zhong-de-seo/"/>
    <updated>2013-02-03T16:12:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/03/octopress-zhong-de-seo</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://codemacro.com/2012/09/06/octopress-seo/">loop in codes &#8211; Kevin Lynx BLOG</a><br/>
Octopress 默认为每个页面添加 meta description，其内容为当前文章的前150个字符，<br/>
如果是首页就会是第一篇文章的前 150 个字符。这里主要通过增加 meta keywords 来提高 SEO。</p>

<!-- more -->


<h2>为每篇文章增加 keywors 和 description</h2>

<p>就像我的这篇博客，这下文章头得填很多数据了，有点麻烦：</p>

<figure class='code'><figcaption><span>code snippet 1 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>---
</span><span class='line'>layout: post
</span><span class='line'>title: "Octopress中的SEO"
</span><span class='line'>date: 2012-09-06 19:02
</span><span class='line'>comments: true
</span><span class='line'>categories: tips
</span><span class='line'>tags: [tips, octopress]
</span><span class='line'>keywords: seo, octopress
</span><span class='line'>description: Octopress默认为每个页面添加`meta description`，其内容为当前文章的前150个字符，如果是首页就会是第一篇文章的前150个字符。这里主要通过增加`meta keywords`来提高SEO。
</span><span class='line'>---</span></code></pre></td></tr></table></div></figure>


<p>这样，每篇文章页面头就会自动增加 meta keywords 项，description也会使用这里填的，<br/>
而不是自动为文章前若干个字符。这个功能的实现在 <code>_includes/head.html</code> 中。</p>

<figure class='code'><figcaption><span>code snippet 2  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;author&quot;</span> <span class="na">content=</span><span class="s">&quot;Kevin Lynx&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;description&quot;</span> <span class="na">content=</span><span class="s">&quot;Octopress默认为每个页面添加`meta description`，其内容为当前文章的前150个字符，如果是首页就会是第一篇文章的前150个字符。这里主要通过增加`meta keywords`来提高SEO。 &quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;keywords&quot;</span> <span class="na">content=</span><span class="s">&quot;seo, octopress&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>为页面 (Page) 增加 keywords</h2>

<p>上面只是修正了每篇博客页面的 meta 信息，octopress 中还有几个页面需要修正，例如首页，<br/>
这个可以通过修改 <code>_includes/head.html</code> 来完成。替换相关内容为以下：</p>

<figure class='code'><figcaption><span>code snippet 3  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;author&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.author }}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>{% capture description %}{% if page.description %}{{ page.description }}{% elsif site.description %}{{ site.description }}{%else%}{{ content | raw_content }}{% endif %}{% endcapture %}
</span><span class='line'><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;description&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ description | strip_html | condense_spaces | truncate:150 }}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>{% if page.keywords %}<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;keywords&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ page.keywords }}&quot;</span><span class="nt">&gt;</span>{%else%}<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;keywords&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ site.keywords }}&quot;</span><span class="nt">&gt;</span>{% endif %}
</span></code></pre></td></tr></table></div></figure>


<p>如果页面没有提供 keywords 或者 description 的话，<br/>
就使用 site 里的设置，也就需要修改 <code>_config.yml</code>：</p>

<figure class='code'><figcaption><span>code snippet 4 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>description: loop in codes, Kevin Lynx blog
</span><span class='line'>keywords: c/c++, mmo, game develop, lisp, ruby, lua, web development</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[为 Octopress 添加查看访问量的功能]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/03/wei-octopress-tian-jia-cha-kan-fang-wen-liang-de-gong-neng/"/>
    <updated>2013-02-03T16:03:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/03/wei-octopress-tian-jia-cha-kan-fang-wen-liang-de-gong-neng</id>
    <content type="html"><![CDATA[<p>原文链接：<a href="http://colors4.us/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-iii/">sourrabbit &amp; linpx</a><br/>
我在看了<a href="http://www.whatwherewhy.me/colophon/">这个</a>网页后，发现我还可以添加网站分析，毕竟是自己努力出来的东西，<br/>
看看大伙是否有兴趣访问还是不错的，不过很多情况是远逊于预期。:)</p>

<!--  more -->


<p>先于 <code>Google Analytics</code> 开通和自己网站相关的服务，<br/>
比如登记自己的网址，取得 GA 的 <code>Track ID</code>，应该如该样式 <code>UA-28584XXX-X</code>.
修改 <code>_config.yml</code> 最后部分，将 ID 置于 <code>google_analytics_tracking_id:</code>项目之后，rake一下就行了。<br/>
之后进入 GA 网站看 report 吧，你就会知道何时多少人访问过你的网站。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA["git rm" 和 "rm" 的区别]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/03/git-rm-he-rm-de-qu-bie/"/>
    <updated>2013-02-03T14:01:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/03/git-rm-he-rm-de-qu-bie</id>
    <content type="html"><![CDATA[<p>这是一个比较肤浅的问题，但对于 git 初学者来说，还是有必要提一下的。</p>

<!-- more -->


<p>用 <code>git rm</code> 来删除文件，同时还会将这个删除操作记录下来；<br/>
用 <code>rm</code> 来删除文件，仅仅是删除了物理文件，没有将其从 git 的记录中剔除。</p>

<p>直观的来讲，<code>git rm</code> 删除过的文件，执行 <code>git commit -m "abc"</code> 提交时，<br/>
会自动将删除该文件的操作提交上去。</p>

<p>而对于用 <code>rm</code> 命令直接删除的文件，执行 <code>git commit -m "abc"</code> 提交时，<br/>
则不会将删除该文件的操作提交上去。<br/>
不过不要紧，即使你已经通过 <code>rm</code> 将某个文件删除掉了，<br/>
也可以再通过 <code>git rm</code> 命令重新将该文件从 git 的记录中删除掉，<br/>
这样的话，在执行 <code>git commit -m "abc"</code> 以后，也能将这个删除操作提交上去。</p>

<p>如果之前不小心用 <code>rm</code> 命令删除了一大批文件呢？<br/>
是的，此时用 <code>git rm</code> 逐个地再删除一次就显得相当蛋疼了。<br/>
所幸还有更方便的处理方案，用如下的方式做提交就没有问题了：
<code>git commit -am "abc"</code></p>

<h3>总结一下：</h3>

<p>在被 git 管理的目录中删除文件时，可以选择如下两种方式来记录删除动作：<br/>
一、<code>rm</code> + <code>git commit -am "abc"</code><br/>
二、<code>git rm</code> + <code>git commit -m "abc"</code><br/>
另外，<code>git add .</code> 仅能记录添加、改动的动作，删除的动作需靠 <code>git rm</code> 来完成。<br/>
最后，<code>rm</code> 删除的文件是处于 <code>not staged</code> 状态的，<br/>
也就是一种介于 “未改动” 和 “已提交过” 之间的状态。</p>

<h3>下面是测试图</h3>

<p>一、<code>git rm</code> 与 <code>rm</code> 之间的区别
<img class="center" src="http://yang3wei.github.com/images/posts/differences_btw_git_rm_and_rm.png">
二、<code>git add .</code> 无法记录 <code>rm</code> 删除动作<br/>
<img class="center" src="http://yang3wei.github.com/images/posts/add_dot_make_no_use.png">
三、<code>git commit -m "abc"</code> 无法提交 <code>rm</code> 删除动作<br/>
<img class="center" src="http://yang3wei.github.com/images/posts/git_rm_better_than_rm.png">
四、<code>git commit -am "abc"</code> 中参数 a 的作用<br/>
<img class="center" src="http://yang3wei.github.com/images/posts/usage_of_flag_a.png"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[git-credential-osxkeychain died of signal 11 解决方案]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/03/git-credential-osxkeychain-died-of-signal-11-jie-jue-fang-an/"/>
    <updated>2013-02-03T00:30:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/03/git-credential-osxkeychain-died-of-signal-11-jie-jue-fang-an</id>
    <content type="html"><![CDATA[<p>相关帖子链接：<br/>
<a href="http://stackoverflow.com/questions/14272634/error-git-credential-osxkeychain-died-of-signal-11/14663780#14663780">&#8230;osxkeychain-died-of-signal-11@stackoverflow.com</a><br/>
前两天在执行 <code>git push origin master</code> 命令的时候突然发现不灵光了，<br/>
死活都推不进 GitHub 服务器，给出的提示如下：<br/>
<code>error: git-credential-osxkeychain died of signal 11</code><br/>
<code>error: git-credential-osxkeychain died of signal 11</code></p>

<!-- more -->


<p>我没有弄错，给出了两行一模一样的提示。<br/>
遇到这个问题以后我的第一反应就是 googling，<br/>
直接就找到了文首给出的那个 stackoverflow 的帖子。</p>

<p>不过这个帖子并没有帮我解决掉这个问题，然后我又继续 googling，<br/>
没有太大的收获，涉及到相关问题的链接不是很多。。<br/>
我一度多次打开 stackoverflow 的这个帖子，仔细的搜寻，<br/>
想看一看我是否遗忘了什么重要的步骤，不过很可惜，没有发现有价值的情报。</p>

<p>后来我计上心头，想到了一个好办法，<br/>
去试一试另外一个本地目录的 work copy 能否推到 GitHub 服务器里面去。<br/>
我做了一些变更并且提交过以后，就执行 “git push origin master” 命令，<br/>
很奇葩的没有出错，也没有向我询问用户名和密码~</p>

<p>到这里我就有点儿纳闷儿了，凭什么这里可以那儿却不行？！<br/>
纠结了好几天了，今天突然又想到一个办法，<br/>
怎么不对比一下两个 work copy 的 .git/config 文件呢，说不定有有所收获！<br/>
果不其然，经我对比过后我发现两个 work copy 所采用的配置有所不同。<br/>
区别在哪里呢？下面我给出来对比一下吧：<br/>
<strong>这里是 push 时抛错的那个 work copy 的 .git/config 文件的部分配置</strong></p>

<pre><code>...
[remote "origin"]
    url = https://github.com/yang3wei/octopress-3-in-one.git
    fetch = +refs/heads/*:refs/remotes/origin/*
...
</code></pre>


<p><strong>这里是 push 时没问题的 work copy 的 .git/config 文件对应的部分配置</strong></p>

<pre><code>...
[remote "origin"]
    url = git@github.com:yang3wei/game-development-tools
    fetch = +refs/heads/*:refs/remotes/master/*
...
</code></pre>


<p>对比后我就多少有些念想了，何不试着把有问题的照着没问题的改弄一翻？<br/>
说干就干，于是我就将有问题的那块儿配置改成了如下这番：</p>

<pre><code>
[remote "origin"]
    url = git@github.com/yang3wei/octopress-3-in-one
    fetch = +refs/heads/*:refs/remotes/origin/*
...
</code></pre>


<p>然后再执行 <code>git push origin master</code> 命令，发现那该死的错误已经悄然遁去~</p>

<h3>总结一下</h3>

<p>一言以蔽之，就是更换了一下 .git/config 中 url 的写法而已，<br/>
将 <code>url = https://github.com/yang3wei/octopress-3-in-one.git</code><br/>
改为 <code>url = git@github.com:yang3wei/octopress-3-in-one</code><br/>
说到这里，我隐约想起好像看到过一句话：<br/>
ssh 加密传输好像是非后面那种 url 格式不可的，<br/>
那么从这点来看的话，<br/>
<code>git-credential-osxkeychain</code> 在 https 传输模式下出错也就情有可原了~<br/>
最后，创建属于自己的 repo 的时候，<br/>
最好还是能以 <code>git@github.com...</code> 这种 url 的写法来初始化仓库，<br/>
以避免当前讨论这种问题的出现~</p>

<h3>另外</h3>

<p>其间也试了下将<br/>
<code>fetch = +refs/heads/*:refs/remotes/origin/*</code><br/>
改为<br/>
<code>fetch = +refs/heads/*:refs/remotes/master/*</code><br/>
如此这般以后我执行 <code>git push origin master</code> 也没有出现错误~<br/>
不过后来在我查看的时候发现竟然多出了一个分支：<br/>
<code>* master</code><br/>
<code> remotes/master/master/</code><br/>
<code> remotes/origin/master/</code><br/>
显而易见，那里我不该将 fetch 里面的 origin 改成 master，<br/>
这里直接导致我远程那边多出了一个无用的分支来~<br/>
话说这里该如何将这个多余的远程分支 <code>remotes/master/master</code> 给干掉呢？<br/>
记得删除远程服务器上面的分支可以用这条命令：<code>git push origin :branchname</code><br/>
不过这里比较特殊，这条多余分支的名字也是 <code>master</code> 呢！<br/>
搜寻良久，stackoverflow 再次帮了我一把，实在是给力啊！下面是相关链接：<br/>
<a href="http://stackoverflow.com/questions/1072171/how-do-you-remove-an-invalid-remote-branch-reference-from-git">How do you Remove an Invalid Remote Branch Reference from Git?</a><br/>
罗列出我所尝试的删除分支的命令：<br/>
<code>git branch -d remotes/master/master</code> 报错<br/>
<code>git push master :master</code> 报错<br/>
<code>git push origin :/remotes/master/master</code> 报错
<code>git gc --prune=now</code> 无效<br/>
<code>git remote rm master</code> 报错<br/>
<code>git branch -rd master/master</code> 删除成功！</p>

<h3>执行 git status 命令后出现如下提示的涵义</h3>

<pre><code># On branch master
# Your branch is ahead of 'origin/master' by 1 commit.
#   (use "git push" to publish your local commits)
#
nothing to commit, working directory clean
</code></pre>


<p>回忆起前几天对 git 不熟悉时因为老是看到这几行提示而感到心里不舒服的情景，<br/>
才发现我真是傻得可爱，这些提示的意思不就是说：<br/>
<strong>你当前有 1 个已完成的提交还没推到远程服务器，执行 push 命令来推出已完成的提交</strong><br/>
哎，那天也不知道是怎么了，肯定是发现和平时不一样却没有仔细看就匆忙下了定论，<br/>
今后得把这种粗细大意的毛病给改掉~</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Git 与 SVN 之间的五个基本区别]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/git-yu-svn-zhi-jian-de-wu-ge-ji-ben-qu-bie/"/>
    <updated>2013-02-02T18:03:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/git-yu-svn-zhi-jian-de-wu-ge-ji-ben-qu-bie</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://blog.csdn.net/dadoneo/article/details/6098540">http://blog.csdn.net/dadoneo/article/details/6098540</a><br/>
在比较两者之前，可以阅读：<br/>
<a href="rubynroll.javaeye.com/blog/203133">SVN + GIT = 鱼与熊掌兼得</a><br/>
<a href="wenku.baidu.com/view/dd6d36eef8c75fbfc77db277.html">开源版本控制 SVN 用户严重的 git</a><br/>
<a href="www.robinlu.com/blog/archives/194">如何在 SVN 系统中使用 git</a></p>

<!-- more -->


<p>如果你在读这篇文章，说明你跟大多数开发者一样对 GIT 感兴趣，<br/>
如果你还没有机会来试一试 GIT，我想现在你就要了解它了。</p>

<p>GIT 不仅仅是个版本控制系统，它也是个内容管理系统(CMS)，工作管理系统等。<br/>
如果你是一个具有使用 SVN 背景的人，<br/>
你需要做一定的思想转换，来适应 GIT 提供的一些概念和特征。<br/>
所以，这篇文章的主要目的就是通过介绍 GIT 能做什么、<br/>
它和 SVN 在深层次上究竟有什么不同来帮助你认识它。</p>

<p>那好，这就开始吧&#8230;</p>

<h2>1.GIT 是分布式的，SVN 不是：</h2>

<p>这是 GIT 和其它非分布式的版本控制系统，例如SVN，CVS等，最核心的区别。<br/>
如果你能理解这个概念，那么你就已经上手一半了。<br/>
需要做一点声明，GIT 并不是目前第一个或唯一的分布式版本控制系统。<br/>
还有一些系统，例如 Bitkeeper, Mercurial 等，也是运行在分布式模式上的。<br/>
但 GIT 在这方面做的更好，而且有更多强大的功能特征。</p>

<p>GIT 跟 SVN 一样有自己的集中式版本库或服务器。<br/>
但，GIT 更倾向于被使用于分布式模式，也就是每个开发人员从中心<br/>
版本库/服务器上 chect out 代码后会在自己的机器上克隆一个自己的版本库。<br/>
可以这样说，如果你被困在一个不能连接网络的地方时，就像在飞机上，地下室，<br/>
电梯里等，你仍然能够提 交文件，查看历史版本记录，创建项目分支，等。<br/>
对一些人来说，这好像没多大用处，但当你突然遇到没有网络的环境时，这个将解决你的大麻烦。</p>

<p>同样，这种分布式的操作模式对于开源软件社区的开发来说也是个巨大的恩赐，你不必再像以前那样做出补丁包，<br/>
通过 email 方式发送出去，你只需要创建一个分支，向项目团队发送一个推请求。<br/>
这能让你的代码保持最新，而且不会在传输过程中丢失。GitHub.com 就是一个这样的优秀案例。</p>

<p>有些谣言传出来说 Subversion 将来的版本也会基于分布式模式。但至少目前还看不出来。</p>

<h2>2.GIT 把内容按元数据方式存储，而 SVN 是按文件：</h2>

<p>所有的资源控制系统都是把文件的元信息隐藏在一个类似 <code>.svn</code>，<code>.cvs</code> 等的文件夹里。<br/>
如果你把 <code>.git</code> 目录的体积大小跟 <code>.svn</code> 比较，你会发现它们差距很大。<br/>
因为，<code>.git</code> 目录是处于你的机器上的一个克隆版的版本库，<br/>
它拥有中心版本库上所有的东西，例如标签，分支，版本记录等。</p>

<h2>3.GIT 分支和 SVN 的分支不同：</h2>

<p>分支在 SVN 中一点不特别，就是版本库中的另外的一个目录。如果你想知道是否合并了一个分支，<br/>
你需要手工运行像这样的命令 svn propget svn:mergeinfo，来确认代码是否被合并。<br/>
感谢 Ben 同学指出这个特征。所以，经常会发生有些分支被遗漏的情况。<br/>
然而，处理 GIT 的分支却是相当的简单和有趣。你可以从同一个工作目录下快速的在几个分支间切换。<br/>
你很容易发现未被合并的分支，你能简单而快捷的合并这些文件。</p>

<h2>4.GIT 没有一个全局的版本号，而 SVN 有：</h2>

<p>目前为止这是跟 SVN 相比 GIT 缺少的最大的一个特征。<br/>
你也知道，SVN 的版本号实际是任何一个相应时间的源代码快照。<br/>
我认为它是从 CVS 进化到 SVN 的最大的一个突破。<br/>
因为 GIT 和 SVN 从概念上就不同，我不知道 GIT 里是什么特征与之对应。<br/>
如果你有任何的线索，请在评论里奉献出来与大家共享。<br/>
更新：有些读者指出，我们可以使用 GIT 的 SHA-1 来唯一的标识一个代码快照。<br/>
这个并不能完全的代替 SVN 里容易阅读的数字版本号。但，用途应该是相同的。</p>

<h2>5.GIT 的内容完整性要优于 SVN：</h2>

<p>GIT 的内容存储使用的是 SHA-1 哈希算法。<br/>
这能确保代码内容的完整性，确保在遇到磁盘故障和网络问题时降低对版本库的破坏。<br/>
这里有一个很好的关于 GIT 内容完整性的讨论 – <br/>
<a href="http://stackoverflow.com/questions/964331/git-file-integrity">http://stackoverflow.com/questions/964331/git-file-integrity</a></p>

<h2>GIT 和 SVN 之间只有这五处不同吗？</h2>

<p>当然不是。我想这五个只是 “最基本的” 和 “最吸引人” 的，我只想到这五点。<br/>
如果你发现有比这五点更有趣的，请共享出来，欢迎。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[青菜豆腐保平安]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/qing-cai-dou-fu-bao-ping-an/"/>
    <updated>2013-02-02T16:50:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/qing-cai-dou-fu-bao-ping-an</id>
    <content type="html"><![CDATA[<p>2000 多年来，随着中外文化的交流，豆腐不但走遍全国，而且走向世界。<br/>
今天，世界人民都把品尝中国豆腐菜看作一种美妙的艺术享受，<br/>
它就象中国的茶叶、瓷器、丝绸一样享誉世界。</p>

<!-- more -->


<p>说来也许令人难以相信，20 世纪 80 年代，美国著名的《经济展望》杂志竟然宣称：<br/>
“未来十年，最成功最有市场潜力的并非是汽车、电视机或电子产品，而是中国的豆腐。”</p>

<p>不错，中国的豆腐——不论男女老少，不分民族、宗教，人人皆可享用。<br/>
这白白嫩嫩、强身健体、延年益寿、价廉物美的豆腐，也引出了一个“豆腐文化”。</p>

<p>豆腐文化中头一个问题就是豆腐的发源地。中国是确信无疑的豆腐之乡，它的老家就在安徽寿县。<br/>
据五代谢绰《宋拾遗录》载：“豆腐之术，三代前后未闻。此物至汉淮南王亦始传其术于世。”<br/>
南宋大理学家朱熹也曾在《素食诗》中写道：<br/>
“种豆豆苗稀，力竭心已腐；早知淮南术，安坐获泉布。” 诗末自注：“世传豆腐本为淮南王术。”</p>

<p>淮南王刘安，是西汉高祖刘邦之孙，公元前164年封为淮南王，<br/>
都邑设于寿春(即今安徽寿县城关)，名扬古今的八公山正在寿春城边。</p>

<p>刘安雅好道学，欲求长生不老之术，不惜重金广招方术之士，<br/>
其中较为出名的有苏非、李尚、田由、雷波、伍波、晋昌、毛被、左昊八人，号称“八公”。<br/>
刘安幽八公相伴，登北山而造炉，炼仙丹以求寿。<br/>
他们取山中 “珍珠”、“大泉”、“马跑” 三泉清冽之水磨制豆汁，又以豆汁培育丹苗，<br/>
不料炼丹不成，豆汁与盐卤化合成一片芳香诱人、白白嫩嫩的东西。<br/>
当地胆大农夫取而食之，竟然美味可口，于是取名“豆腐”。<br/>
北山从此更名“八公山”，刘安也于无意中成为豆腐的老祖宗。</p>

<p>自刘安发明豆腐之后，八公山方圆数十里的广大村镇，成了名副其实的“豆腐之乡”。</p>

<p>有了豆腐自然会有豆腐菜。八公山人家，甭说一般家庭主妇，<br/>
就是十四五岁的娃娃也能做出几样风味各异的豆腐菜，<br/>
比如什么香椿拌豆腐、豆腐鸡蛋、辣酱拌豆腐、炒豆腐等等。<br/>
改革开放以后，八公山街头的 “豆腐馆” 比比皆是、远近闻名。</p>

<p>他们或煨、或煮、或煎、或炸、或溜……拢丝、雕刻各显身手，不仅引得本地人常来过把瘾，<br/>
合肥、蚌埠等相邻市县的人们隔三岔五光顾 “豆腐宴”，就连德国、英国、日本、荷兰、捷克、<br/>
斯洛伐克、香港、台湾等国家和地区的宾客也常常云集八公山下，品尝 “寿桃豆腐”、“琵琶豆腐”、<br/>
“葡萄豆腐”、“金钱豆腐” 等 400 余款造型逼真、色彩纷呈、鲜美异常、风味独具的豆腐菜。</p>

<p>豆腐文化也逐渐在整个神州大地弘扬。南北朝梁代建康(今南京)人诸葛颖曾著《淮南王食经))130卷，<br/>
毗邻淮南的江苏显然是“近水楼台先得月”，首先受到豆腐文化的影响。<br/>
一直到现在，江苏人还把豆腐、面筋、菌蕈、笋芽列为素菜四大金刚。</p>

<p>宋明以后，豆腐文化更加广为流传，许多文人名士也走进传播者的行列。<br/>
北宋大文豪苏东坡善食豆腐，元佑二年至无佑四年任杭州知府期间，曾亲自动手制作东坡豆腐。<br/>
南宋诗人陆游也在自编《渭南文集》中记载了豆腐菜的烹调。<br/>
更有趣的是清代大臣宋荦关于康熙皇帝与豆腐的一段记载。<br/>
时值康熙南巡苏州，皇帝新赐大臣的不是金玉奇玩，而是颇具人情味、乡土气的豆腐菜。</p>

<p>随着豆腐文化的传播，各地人民依照自己的口味，不断发展和丰富着豆腐菜的制作方法。<br/>
流传至今的有四川东部的 “口袋豆腐”，以汤汁乳白、状若橄榄、质地柔嫩、味道鲜美为特色；<br/>
成都一带享誉海内外的 “麻婆豆腐”，独具麻、辣、鲜、嫩、烫五大特点。<br/>
湖北名食 “荷包豆腐”、杭州名菜 “煨冻豆腐”、无锡“镜豆腐”、扬州“鸡汁煮干丝”、屯溪“霉豆腐”、<br/>
以及以豆腐衣为原料的“腐乳糟大肠”等等。当豆腐菜走向更遥远的边疆时，独特风味也就更为丰富。<br/>
譬如，吉林盛行“素鸡豆腐”，色泽美观，五香味浓；<br/>
又有“蛤蜊杏仁豆腐”，杏仁止咳润肠，雪蛤清头明目，豆腐软嫩细腻，色泽纯洁乳白，菜味甘短期爽口。<br/>
此外，朝鲜族人民用牛肉、粉条、鸡蛋、豆腐制成“梅云汤”，广西壮族有名菜“清蒸豆腐圆”，<br/>
云南大理白族有 “腊味螺豆腐”，香嫩麻辣，腊香扑鼻。<br/>
而“冰糖螺豆腐”，则为滋阴降火，怡疗神经衰弱的民间风味补品……</p>

<p>就这样，在长期的社会发展中，问世于寿县八公山的豆腐，终于传遍神州大地，<br/>
并逐渐形成中国豆腐的八大系列：<br/>
一为水豆腐，包括质地粗硬的北豆腐和细嫩的南豆腐；<br/>
二为半脱水制品，主要有百叶、千张等；<br/>
三为油炸制品，主要有炸豆腐泡和炸金丝；<br/>
四为卤制品，主要包括五香豆腐干和五香豆腐丝；<br/>
五为熏制品，诸如熏素肠、熏素肚；<br/>
六为冷冻制品，即冻豆腐；<br/>
七为干燥制品，比如豆腐皮、油皮；<br/>
八为发酵制品，包括人们熟悉的豆腐乳、臭豆腐等等。<br/>
这八类制品中，安徽淮南的八公山嫩豆腐，广西的桂林白腐乳，浙江绍兴腐乳，黑龙江的克东腐乳，<br/>
广东的三边腐竹，北京的王致和臭豆腐，湖北武汉的臭干子等，均已成为名驰中外的豆腐精品。<br/>
2000 多年来，随着中外文化的交流，豆腐不但走遍全国，而且走向世界。</p>

<p>说起这段历史，就要提起唐代大和尚鉴真。<br/>
天宝12年(公元757年)，鉴真东渡日本，带去了豆腐制作方法。<br/>
至今日本的豆腐包装袋上还有 “唐传豆腐干黄檗山御前淮南堂制”的字样，<br/>
而且许多豆腐菜谱直接采用汉名。如“元月夫妻豆腐”、“二月理宝豆腐”、<br/>
“三月炸丸豆腐”、“四月烤串豆腐”、“五月团鱼豆腐”等等。</p>

<p>继日本之后，朝鲜、泰国、马来西亚、新加坡、印尼、菲律宾等周边国家也从中国学到了豆腐制作技艺。<br/>
以后随着大批华人外行的足迹，中国豆腐走到了西欧、北美，<br/>
世界几乎所有国家都有了大豆食品的生产与销售。</p>

<p>与此同时，世界各国人民也以自己的智慧与习俗丰富着豆腐文化。<br/>
比如东邻日本以天然色素为原料，生产出红、蓝、绿七彩豆腐；<br/>
朝鲜人民根据本地资源，制作了风味各异的豆腐汤：豆酱豆腐汤、哈蜊豆腐汤、明太鱼豆腐汤等等；<br/>
印尼人普遍爱吃“酱拌炸豆腐”；<br/>
缅甸人越南人则创制了颇具东南亚风格的“酱拌蛋花豆腐”、“什锦盘”。<br/>
特别值得一提的是新加坡与马来西亚风行的“肉骨茶”，其实也是豆腐菜肴中的一种。<br/>
在美国，商人们则把豆腐加工成色香味俱全的快餐食品，诸如豆腐色拉、豆腐汉堡包、<br/>
豆腐冰淇淋、豆腐烤鸭、豆腐结婚蛋糕等等，在市场上十分畅销。<br/>
20世纪80年代以来，世界饮食营养科学界兴起一股引人瞩目的“豆腐热”，<br/>
高蛋白、低脂肪的豆腐食品越来越受到世界人民的喜爱，<br/>
成为科学界一致推崇的美味保健的营养佳品。</p>

<p>豆腐是以黄豆、青豆、黑豆为原料，经浸泡、磨浆、过滤、煮浆、<br/>
加细、凝固和成型等工序加工而成最广、最大众化的烹饪原料之一。<br/>
豆腐及豆腐制品的蛋白质含量比大豆高，而且豆腐蛋白属完全蛋白，不仅含有人体必需的八种氨基酸，<br/>
而且其比例也接近人体需要，营养效价较高。豆腐还含有脂肪、碳水化合物、维生素和矿物质等。<br/>
中医理论认为，豆腐味甘性凉，入脾、胃、大肠经，具有益气和中、生津润燥、清热解毒的功效，<br/>
可用以治疗赤眼、消渴，解硫磺、烧酒毒等。可豆腐虽好，多吃也有弊，过量也会危害健康。</p>

<p>问题1：引起消化不良：<br/>
豆腐中含有极为丰富的蛋白质，一次食用过多不仅阻碍人体对铁的吸收，<br/>
而且容易引起蛋白质消化不良，出现腹胀、腹泻等不适症状。</p>

<p>问题2：促使肾功能衰退：<br/>
在正常情况下，人吃进体内的植物蛋白质经过代谢变化，<br/>
最后大部分成为含氮废物，由肾脏排出体外。<br/>
人到老年，肾脏排泄废物的能力下降，此时若不注意饮食，<br/>
大量食用豆腐，摄入过多的植物性蛋白质，势必会使体内生成的含氮废物增多，<br/>
加重肾脏的负担，使肾功能进一步衰退，不利于身体健康。</p>

<p>问题3：促使动脉硬化形成：<br/>
美国医学专家指出，豆制品中含有极为丰富的蛋氨酸，蛋氨酸在酶的作用下可转化为半胱氨酸。<br/>
半胱氨酸会损伤动脉管壁内皮细胞，易使胆固醇和甘油三酯沉积于动脉壁上，促使动脉硬化形成。</p>

<p>问题4：导致碘缺乏：<br/>
制作豆腐的大豆含有一种叫皂角苷的物质，<br/>
它不仅能预防动脉粥样硬化，而且还能促进人体内碘的排泄。<br/>
长期过量食用豆腐很容易引起碘缺乏，导致碘缺乏病。</p>

<p>问题5：促使痛风发作：<br/>
豆腐含嘌呤较多，嘌呤代谢失常的痛风病人和血尿酸浓度增高的患者<br/>
多食易导致痛风发作，特别是痛风病患者要少食。</p>

<p>可见，豆腐虽好，也不宜天天吃，一次食用也不要过量。<br/>
老年人和肾病、缺铁性贫血、痛风病、动脉硬化患者更要控制食用量。<br/>
中医认为，豆腐性偏寒，胃寒者和易腹泻、腹胀、脾虚者以及常出现遗精的肾亏者也不宜多食。<br/>
豆腐营养丰富，含有铁、钙、磷、镁等人体必需的多种微量元素，<br/>
还含有糖类、植物油和丰富的优质蛋白，素有“植物肉”之美称。<br/>
豆腐的消化吸收率达 95％ 以上。两小块豆腐，即可满足一个人一天钙的需要量。</p>

<p>豆腐为补益清热养生食品，常食之，可补中益气、清热润燥、生津止渴、清洁肠胃。<br/>
更适于热性体质、口臭口渴、肠胃不清、热病后调养者食用。<br/>
现代医学证实，豆腐除有增加营养、帮助消化、增进食欲的功能外，<br/>
对齿、骨骼的生长发育也颇为有益，在造血功能中可增加血液中铁的含量；<br/>
豆腐不含胆固醇，为高血压、高血脂、高胆固醇症及动脉硬化、冠心病患者的药膳佳肴。<br/>
也是儿童、病弱者及老年人补充营养的食疗佳品。<br/>
豆腐含有丰富的植物雌激素，对防治骨质疏松症有良好的作用。<br/>
还有抑制乳腺癌、前列腺癌及血癌的功能，豆腐中的甾固醇、豆甾醇，均是抑癌的有效成分。</p>

<p>豆腐是中药炮制辅料之一。豆腐煮制，系中药炮制方法中的一种。<br/>
系将药物植入豆腐中并复以豆腐盖上，用火煮至豆腐呈蜂窝状，药物颜色变浅，时间约4小时即可。<br/>
如硫黄，含有毒成分，经用豆腐煮制后，一可减毒，二可洁净。<br/>
因豆腐含有丰富的蛋白质，系两性化合物，既可与碱性物质生成沉淀，又能溶解部分酸性有毒物质，<br/>
减低毒性成分，且因其表面积大，空隙多，而具有良好的吸附作用。</p>

<p>豆腐亦可用于食疗，具有一定的药用价值。如葱炖豆腐，可治感冒初起，每日食3～5次；<br/>
鲫鱼与豆腐共煮，可治麻疹出齐尚有余热者，也可用于下乳；<br/>
葱煎豆腐，可用于水肿膨胀；豆腐萝卜汤，可用于痰火吼喘；<br/>
豆腐红糖共煮，可用于吐血等。</p>

<p>豆腐如何选购和保鲜？<br/>
豆腐可以说是素食中的主角了，而海带由于富含碘让有些人喜欢吃传统板豆腐，<br/>
有些人则偏好盒装豆腐的滑嫩。无论偏好哪一种，都要注意豆腐的选购和保鲜问题。</p>

<p>豆腐本身的颜色是略带点微黄色，如果色泽过于死白，有可能添加漂白剂，则不宜选购。<br/>
此外，豆腐是高蛋白质的食品，很容易腐败，<br/>
尤其是自由市场卖的板豆腐较盒装豆腐易遭到污染，应多加留意。</p>

<p>盒装豆腐需要冷藏，所以需要到有良好冷藏设备的场所选购。<br/>
当盒装豆腐的包装有凸起，里面豆腐则混浊、水泡多且大，便属于不良品，千万不可选购。<br/>
而没有包装的豆腐很容易腐坏，买回家后，应立刻浸泡于水中，并放入冰箱冷藏，烹调前再取出。<br/>
取出后不要超过 4 小时，以保持新鲜，最好是在购买当天食用完毕。</p>

<p>盒装豆腐较易保存，但仍须放入冰箱冷藏，以确保在保存期限内不会腐败。<br/>
若无法一次食用完毕，可依所需的分量切割使用，剩余的部分再放回冷冻室，方便下次食用。</p>

<p>豆腐作为食药兼备的食品，具有益气、补虚等多方面的功能。<br/>
一般100克豆腐含钙量为140毫克－160毫克，豆腐又是植物食品中含蛋白质比较高的，<br/>
含有8种人体必需的氨基酸，还含有动物性食物缺乏的不饱和脂肪酸，卵磷脂等。<br/>
因此，常吃豆腐可以保护肝脏，促进机体代谢，增加免疫力并且有解毒作用。</p>

<p>豆腐不足之处是它所含的大豆蛋白缺少一种必需氨基酸——蛋氛酸，<br/>
若单独食用，蛋白质利用率低，如搭配一些别的食物，使大豆蛋白中所缺的蛋氨基酸得到补充，<br/>
使整个氨基酸的配比趋于平衡，人体就能充分吸收利用豆腐中的蛋白质。<br/>
蛋类、肉类蛋白质中的蛋氨酸含量较高，豆腐应与此类食物混合食用，<br/>
如豆腐炒鸡蛋、肉末豆腐、肉片烧豆腐等。这样搭配食用，便可提高豆腐中蛋白质的利用率。</p>

<p>豆腐是一种有利健康的功能性食品<br/>
据现代科学研究，豆腐在保证人类健康方向有一系列的功能。 主要是：<br/>
1．豆腐是最佳的低胰岛素的氨茎的特种食品。<br/>
2．豆腐可以改善人体脂肪结构<br/>
3．食用豆腐可以预防和抵制癌症。<br/>
4．食用豆腐可以预防和抵制更年期疾病<br/>
5．食用豆腐可以预防和抵制骨质疏松症<br/>
6．食用豆腐可以预防和抵制可以提高记忆力和精神集中力<br/>
7．食用豆腐可以预防和抵制老化和痴呆<br/>
8．食用豆腐可以预防和抵制肝功能的疾病<br/>
9．食用豆腐可以预防和抵制糖尿病<br/>
10．食用豆腐可以预防和抵制动脉硬化<br/>
11．食用豆腐可以预防和抵制伤风和流行性感冒</p>

<p>豆腐是怎样做成的呢？<br/>
把黄豆浸在水里，泡胀变软后，在石磨盘里磨成豆浆，再滤去豆渣，煮开。<br/>
这时候，黄豆里的蛋白质团粒被水簇拥着不停地运动，仿佛在豆浆桶里跳起了集体舞，<br/>
聚不到一块儿，形成了”胶体”溶液。 要使胶体溶液变成豆腐，必须点卤。<br/>
点卤用盐卤或石膏，盐卤主要含氯化镁，石膏是硫酸钙，<br/>
它们能使分散的蛋白质团粒很快地聚集到一块儿，<br/>
成了白花花的豆腐脑。再挤出水分，豆腐脑就变成了豆腐。<br/>
豆腐、豆腐脑就是凝聚的豆类蛋白质。</p>

<p>我们喝豆浆，有时就在重复这个豆腐制作过程哩。<br/>
有人爱喝甜浆。往豆浆里加一匙白糖，豆浆没有什么变化。<br/>
有人爱喝咸浆。在豆浆里倒些酱油或者加点盐，<br/>
不多会儿，碗里就出现了白花花的豆腐脑。<br/>
酱油里有盐，盐和盐卤性质相近，也能破坏豆浆的胶体状态，使蛋白质凝聚。<br/>
这不和做豆腐的情形一样吗？</p>

<p>豆浆点卤，出现豆腐脑。豆腐脑滤去水，变成豆腐。<br/>
将豆腐压紧，再榨干去些水，就成了豆腐干。<br/>
原来，豆浆、豆腐脑、豆腐、豆腐干，都是豆类蛋白质，只不过含的水有多有少罢了。<br/>
牛奶和豆浆差不多，也是胶体溶液。在新鲜的牛奶里，酪素，也就是蛋白质包裹着奶油，<br/>
在水里分散开来，不停地运动矿所以，牛奶总是均匀的乳白色液体。<br/>
让牛奶发酵，做成酸牛奶，酪素就聚集拢来，凝结成块，象豆腐脑似的。</p>

<p>豆腐是我国的一种古老传统食品，在一些古籍中，<br/>
如明代李时珍的《本草纲目》、叶子奇的《草目子》、<br/>
罗颀的《物原》等箸作中，都有豆腐之法始于汉淮南王刘安的记载。<br/>
中国人首开食用豆腐之先河，在人类饮食史上，树立了嘉惠世人的丰功。</p>

<p>制作豆腐的大豆含有丰富的营养。<br/>
以下是几种主要动植物蛋白食品蛋白质价（以标准蛋白质价为 100 时）的比较：<br/>
鸡蛋为 100，牛肉为 83，鱼肉平均为 70，稻米为 67，全麦粉为 53，玉米为 59，大豆粉为 74，<br/>
这说明大豆的蛋白质价可与鱼肉相媲美，是植物蛋白中的佼佼者。<br/>
大豆蛋白属全价蛋白，其氨基酸的组成比较好，人体所必需的 8 种氨基酸它都有。<br/>
除蛋白质以外，大豆中含有 18％ 左右的油脂，其绝大部分可以转移到豆制品中去。<br/>
大豆油脂的亚油酸（人体必需的主要脂肪酸）比例较大，且不含胆固醇，<br/>
不但有益人体神经、血管、大脑的发育生长，而且还可以预防心血管病、肥胖病等常见病发生。</p>

<p>大豆中也含有一些蛋白酶物质、皂甙和破坏维生素的成分，<br/>
它们对人体健康有不良影响，但只要适当加热即可消除；<br/>
另一方面，用大豆直接制成食品，人体对其蛋白质的消化吸收率只有 65％，<br/>
而制成豆腐以后，消化吸收率就可以提高到 92％ 到 95％。<br/>
可见，豆腐是大豆家族中于人最有益处的。</p>

<p>豆腐不仅是味美的食品，它还具有养生保健的作用。<br/>
中医书籍记载：豆腐，味甘性凉，入脾胃大肠经，具有益气和中、生津解毒的功效，<br/>
可用于赤眼、消渴、休痢等症，并解硫磺、烧酒之毒。<br/>
这些，都陆续为现代医学、营养池所肯定，比如，豆腐确有解酒精毒的作用；<br/>
豆腐可消渴，是糖尿病人的良好食品。</p>

<p>俗话说“青菜豆腐保平安”，这正是人们对豆腐营养保健价值的赞语。<br/>
经过千百年的演化，豆腐及其制品已经形成为中国烹饪原料训的一大类群，<br/>
有着数不清的地方名特产品，可以烹制出不下万种的菜肴、小吃等食品。<br/>
这是同豆腐及其制品具有广泛的可烹性分不开的。</p>

<p>比如：
它可以单独成菜，也可以作主料、辅料，或充作调料；<br/>
它可以作多种烹调工艺加工，切成块、片或丁或炖或炸；<br/>
它可做成多种菜式，多种造型，可为冷盘、热菜、汤羹、火锅，<br/>
可成卷、夹、丸、包等等还可调制成各种味型，既有干香的本味，更具独一无二的吸味特性，<br/>
“豆腐得味，远胜燕窝”。由于豆腐及其制品具有这么多的优点，难怪它脍炙人口，久盛不衰了。</p>

<p>当今，豆腐及其制品不仅仅是国人的常用食品，它已远出国门，风摩世界了。<br/>
当美国炸鸡、牛排吸引着别国居民的时候，<br/>
中国的传统食品——豆腐则以其独具的魅力进入美国市场，<br/>
以其高蛋白、低脂肪、低热量、低胆固醇的突出优点<br/>
而成为公认的理想食品，受到美国人的青睐。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[入手机械键盘 PLU ML 87]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/ru-shou-ji-jie-jian-pan-plu-ml-87/"/>
    <updated>2013-02-02T16:11:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/ru-shou-ji-jie-jian-pan-plu-ml-87</id>
    <content type="html"><![CDATA[<p>我酷爱 War III，和大学同学搭档打 2v2 对战是我一个很大的乐趣。<br/>
为了更好的干魔兽 2v2，我花 350 闷入了一块机械键盘。<br/>
型号是 PLU ML 87，87 个键，不带小键盘，樱桃黑轴。</p>

<!-- more -->


<p>买机械键盘犹豫了很久，看了不少网友对机械键盘的点评。<br/>
有人说，花大几百就买块键盘简直就是傻逼行为，烧钱，钱多没地方去了。<br/>
有人说，薄膜键盘跟机械键盘就是没得比，机械一给用上，就再无法用回薄膜了。<br/>
有人说，机械键盘，特别是黑轴键盘，打起游戏来那真是没话说，相当地给力。</p>

<p>听别人说是做不了数的，想去真正地了解，还得自己去尝试。<br/>
人生要尝试很多东西，迟或早的问题，现在手里虽然也不是很宽裕，但还是有点儿小储蓄。<br/>
本着 “迟早都要买”和 “早买早享受” 的想法，便开始在淘宝观摩上了。</p>

<p>发现人的欲望真是一发不可收拾，很快我便无法自拔，深陷其中。<br/>
我在网上不停地翻找合适我的键盘，发现了以下的一些机械键盘品牌：</p>

<p><strong>1。cherry 机械键盘</strong><br/>
cherry 是很早就生成机械键盘的大佬，而且很多其他品牌的机械盘生产厂家，<br/>
用的都是 cherry 制造的按键开关。cherry 的四种不同色彩的开关，也是非常有意思，容后再叙。<br/>
g3000 是很经典的一款，不过太贵了，600~700 了，<br/>
而且样式也很老，据说是属于 20 年不变样的那种。<br/>
其次就是，g3000 的功能键区离那一横排数字键太远了，<br/>
打魔兽的话 F1，F2，F3 是用来选择英雄的，可能不太方便，<br/>
而且，用惯了双飞燕的键盘格局，要去适应的话也需要花费时间。<br/>
g3800 是最近出的一款，价格比较亲民，400 左右，不过质量有下滑。<br/>
我看了下，g3800 没有用到内衬钢板，而且键盘做的很薄，<br/>
感觉不太符合我心目中机械键盘的模样，当然，cherry 是生成机械盘的大佬级生产厂家，<br/>
他的做法虽然不能为我辈理解，但肯定是有他的道理的。</p>

<p>环视机械键盘的大环境，国内已经出现了很多生产机械键盘的厂家：<br/>
PLU，雷柏，NEOTV，etc，虽然大部分用的还是 cherry 生产的机械开关，<br/>
但是毕竟也抢占了 cherry 键盘的市场份额，cherry 推出低价位的 g3800 也是不得已之举。<br/>
不过在我看来，PLU ML 87 的设计风格和口碑，还是对我具有更大的诱惑力。</p>

<p><strong>2。noppo 诺朴</strong><br/>
noppo choc mini 84 是之前让我非常动心的一款机械键盘，我比较喜欢那种 mini 的设计风格。<br/>
不过价格也是不便宜，最便宜情况下的标准黑轴不带背光键盘，在价位上就和 PLU 差不离了。<br/>
高级点儿的全按键无冲突的、带背光灯的，就要上 500 了。<br/>
不过最终让我对这块键盘失去兴趣的原因却是：<br/>
键帽做的太窄了，我手虽然不大，但是小键帽用起来肯定也存在一些不便利的地方。</p>

<p><strong>3。razer 黑寡妇</strong><br/>
这快键盘做的还是相当的酷，很喜欢，<br/>
不过也是在价格上接受不了，和 cherry 的 g3000 差不多价位了。<br/>
以上都是国外的品牌，毕竟中国的市场打开的比较迟，所以 还是首先从国外的生产商开始考虑。</p>

<p><strong>4。网际快车 g100，g200</strong><br/>
这块键盘我也是非常的中意，不过在网上找了下，黑轴的键盘只发现 g100 的款式，<br/>
g200 的款式有红轴、茶轴两种。<br/>
这块键盘比较吸引人的地方就是：<br/>
采用标准的 104 键设计，普通薄膜键盘上有的键，网际快车键盘上面都有。<br/>
其实我也觉得，PLU 的 87 键，keycool 的 87 键，noppo 的 84 键，都是比较取巧的。<br/>
在网上看了一下，cherry 的按键开关一个要 3 块多左右，<br/>
87 键和 84 键分别比标准的 104 键少了 17、20 个按键开关，这里就是一笔比较大的开支。<br/>
反观网际快车，我上次看的 g100 的黑轴是 285 块钱，g200 的茶轴是 350 块钱。<br/>
而且内衬钢板啥的都有，不缺少心目中机械键盘该有的那份沉稳厚重，<br/>
键盘造型也不是丑到让人无法接受，虽然 abs 键帽不及 pom，pbt 键帽结实，<br/>
不过好歹也能用那么久吧，实在不行了也能拆下来再去换一套键帽。</p>

<p>当初我就是这么想的：<br/>
好吧，这么具有诱惑力，那就买网际快车的黑轴键盘吧~<br/>
不过人总是这么善变，后来我看到有人说网际快车的第一批货设计上有些不成熟（g100？），<br/>
具体是什么没说明白，我自己去看了下用户评价，大意是按键冲突问题解决的不是很好，<br/>
有个人竟然说 ctrl 键和其他任何键一同按下的时候，都会冲突。<br/>
不知道是不是真的，毕竟没有亲自试用过，没有发言权。<br/>
不过，这还是让我产生了一些疑虑，本来坚定的心便由此动摇了。<br/>
如前所述，网际快车 g200 就出了红轴，茶轴，貌似黑轴还是 g100 的型号。<br/>
我在网店里看到的也是这样，黑轴 g100，285 元；茶轴 g200，349 元。<br/>
因为键盘买来主要用作打游戏，所以首选黑轴，<br/>
第二个因素就是，黑轴标称寿命是 5000w 次，茶轴的才 2000w 次，差了蛮多了。<br/>
后面便不做考虑，转向其他的品牌了。<br/>
其实，我也知道网络上面喷子、枪手很多，但作为消费者，<br/>
还是需要多多少少的看一些他人的评论，然后自己对这些东西才能有一个比较客观的认识。<br/>
我若是身家千万，肯定去把各品牌的盘都弄一块儿，在家里慢慢试，看到底那一块最适合自己。<br/>
同时验证一下，在网络上放出使用评论的这些人，都有哪些个说的是真话，哪些个说的是假话。</p>

<p><strong>5。凯酷 mini87、精灵雷神 M1、雷柏 v7、filco、NEO TV 竞神</strong><br/>
凯酷 mini 87 和 PLU ML 87 长的实在是太像了，<br/>
我也不知道自己为什么选的是 plu 而不是 keycool，<br/>
可能是因为 plu 的名气大一点的原因吧，keycool 我之前都没怎么听说过，<br/>
据称是一个非常了解游戏外设的玩家独力开创的一个品牌。</p>

<p>keycool 一个我比较欣赏的细节就是键盘线和键盘是分离设计的，<br/>
而且，线和键盘连接之后，能够自键盘后部左中右 3 个出口连出，显得非常的人性化。<br/>
不过，想仅仅凭借这个细节将我打动，还是不那么容易。<br/>
在 plu 的名声（plu 是弄星际争霸赛事的一个网站）和 keycool 的这个细节之间，我选择了前者~</p>

<p>精灵雷神 m1，号称 “红黑混血狮子”，标价才 200 多，之前也有点儿心动，<br/>
心想红轴是 cherry 最贵的轴，应该不会贵的没有道理，而且，该键盘同时拥有红轴和黑轴两种开关，<br/>
也能让我仔细体验一下这两种轴之间的感受差距。另外，该键盘的设计还有一些儿手托的成分。<br/>
不过，在后面仔细观察一番后我发现了一些比较坑爹的小细节：<br/>
精灵雷神 m1 的红轴并非 cherry 生产的正宗红轴，而是一个不知名的厂家生产的按键开关，<br/>
这个就有点儿欺诈的成分了，虽说也没公开的表明是 cherry 的红轴，<br/>
但是，也没说不是 cherry 的红轴啊，太不地道了，<br/>
对于我等菜鸟，若非留了个心眼外加眼神儿还不错，<br/>
还真发现不了，红色的按键开关上写的竟然不是 cherry。</p>

<p>在此小得意一番，我当初起疑心也是因为看到老板文字介绍里面的“加强版 cherry 黑轴”，<br/>
我心想没事你弄个加强版干嘛，难不成和一般的 cherry 黑轴有什么不一样？<br/>
后面我仔细一看才发现，这个加强版原来是同自身的红色开关做对比的，顿时牙都掉了一地。<br/>
再个就是，精灵雷神 m1 的键面很不平整，我担心用起来的时候适应不了，不过这都是题外话了，<br/>
血统不纯正的红轴足以让我对其失去任何兴趣。</p>

<p>雷柏 v7 称用的是自己研究生产的 “国产黄轴”，特性与 cherry 的轴有所不同，<br/>
针对亚洲人进行的设计，其实压力克数才 50g，比 cherry 最低克数的 60g 还少 10g<br/>
（cherry ：黑轴 80g，红轴 60g，青轴 60g，茶轴 60g）。<br/>
很多人都说 cherry 的 80g 黑轴打游戏手感很不错，还有一些人说 cherry 的红轴按起来太软了，<br/>
我心想 cherry 60g 的红轴按起来都算软，那黄轴的 50g 按起来不是软的不成样子了？<br/>
虽然自手指接触键帽至将键帽按到最底下，其间手的承受力也可能会呈现不同的曲线图样，<br/>
从而让人产生不同的按键体验，但是黄轴的起始压力克数就这么低，<br/>
我还有些担心用起这机械的手感会和薄膜差不多，那这机械的名头也就太他妈有名无实了。<br/>
后来翻了一些评论，看到好几条都说这键盘的质量不咋地，没用多久就啥啥键给挂掉了。<br/>
综上所述，果断将雷柏 v7 排除出我的候选名单<br/>
（内心里还是想首选老大哥 cherry 的按键开关用一下）。</p>

<p>filco 就不多说了，两个字，坑爹！<br/>
贵的真是没理由。在淘宝上看了一下键盘手托，filco 的一般都是 200 多，<br/>
我心想一手托而已，有必要整这么贵？就算你是真皮的，这么一小块儿牛皮，值那么多钱？</p>

<p>NEO TV 竞神是让我产生购买机械键盘冲动的第一块机械键盘。<br/>
好像是在 2011 年 wcg 的时候听说的，那时候专门跑网上看了下，<br/>
直接就拜倒在 NEO TV 竞神 特别的设计风格下面了（没有键盘上盖）~<br/>
所幸那时候手里没什么钱，不然我的第一块机械键盘可能就是 NEO TV 的竞神了。<br/>
不过，无上盖设计虽然很显酷，但让我比较担心的就是，在防灰、清理上面可能会衍生一些个问题。<br/>
环视其他同类产品的价格，plu87 才 350，keycool 87 也才 350，<br/>
noppo mini 84 也就 400 左右（均为标准黑轴）~<br/>
NEO TV 竞神在价格上真没什么明显的优势，499 元反而成了销量的绊脚石~<br/>
我特意去 NEO TV 的淘宝旗舰网上看了下，NEO TV 的服务态度也是比同类店铺低了相当一大截，<br/>
由此可见，NEO TV 的心态还是比较浮躁，无法成为一个顾客能与之良好合作的好卖家，<br/>
结合如上几点，让我放弃了选择 NEO TV 竞神机械键盘的想法。</p>

<p><strong>后记：</strong><br/>
PLU ML 87 是昨天到的，刚到手我就迫不及待的拆开了包装，<br/>
试了下手感，初次使用感觉这黑轴真不是盖的，还真比我的双飞燕薄膜硬了不少。<br/>
较遗憾的是，前天电脑插班出了些故障，而且网络也即将被销户，网速成问题，<br/>
不然我就马上要登入 vs 去好好玩几把魔兽对战体验一下了。<br/>
话说昨天晚上买了新的插板将电脑接好试了一下以后，发现这黑轴的触发距离果然是短的出奇，<br/>
按键根本就用不着按到底，轻轻往下面碰一下，电脑上面就能给响应起来，<br/>
说真的，让初次使用的我真的是很不适应 —— 平时使用薄膜键盘，我都是要很大力地按到底的~<br/>
今天再次使用的时候，发现经过了昨天晚上那一段时间的调整，<br/>
对按键的硬度已经有了很好的适应，敲了好一会儿都不觉得前臂肌肉小累了~<br/>
之前有点儿小蛋疼，我想拔出键帽看一下，<br/>
里面传说中的游戏神器 cherry 黑轴开关到底是什么样貌，以及 plu ml 87 是否用到了加固钢板。</p>

<p>我购买 plu 键盘的淘宝商家是这么描述 plu ml 87 的：<br/>
“由于 plu 的键帽紧紧的嵌合在 cherry 按键开关上面，<br/>
因此你丝毫不用担心运输过程中会出现键帽被震出来的情况出现”<br/>
想起这句话，我就蛋疼不已，<br/>
感情说我用拔键扣连 cherry 的轴心都给拔出来了，这还是他妈的所谓优点啊？！<br/>
各种无语，因为我在拔键帽的时候，确实是将 cherry 按键开关的轴心都给拔出来，<br/>
看到此等情景我当真是唏嘘不已，震惊的我马上尝试将轴心硬塞回去，<br/>
经过 10 来分钟的努力，总算是用粗笨如脚的手将左边 shift 键的 cherry 轴心给强行塞了回去。<br/>
悬着的心也掉了下来，再怎么着也不能在几百块钱的键盘刚入手第二天就把它给弄坏了啊~<br/>
总算一切顺利，测试一下后发现，按键的手感没有受到什么致命的影响，也没有出现失灵的情况。<br/>
拔键帽这么蛋疼，估计今后清理键盘、换键帽的时候，有罪受了~</p>

<p>总体来说，PLU ML 87 还是一款手感相当不错的入门级机械键盘，今后打魔兽对战有福了！</p>

<p><strong>2012。05。02。11。01</strong><br/>
发现在 Mac 上面使用 plu 有些问题，在用 photoShop 的时候<br/>
command + shift + s “另存为” 的快捷键无效<br/>
但是在 xcode 里面 ，command + shift + k 清理的快捷键却有效，真的是很奇葩。<br/>
另外，我发现没有了数字小键盘其实还是有点儿小不方便，<br/>
在打游戏的时候没有数字区可能影响不大，但是平时输入密码啥的，<br/>
一时间还真适应不过来没数字区，经常下意识的将手摸过去准备敲数字，<br/>
却蓦然发现自己用的是 %80 键盘，各种蛋疼，看来自己还得慢慢来适应啊~</p>

<p>自从经历过上次的拔键帽将 cherry 按键开关的轴心拔出来的事情，我就有点儿小不爽了。<br/>
后来在网上查了下，发现我这种情况还真不少见，也有其他几个人反映出有同样的问题。<br/>
甚至还出现了一些比较有意思的对话，大意是某某说拔 plu 的键帽毫无压力，<br/>
结果过来盖楼的人说他的 plu 质量不过关，还有的人评论说 “这基本是不可能的”。<br/>
一大堆，看他们说着蛮有意思，自己听着却是比较辛酸。</p>

<p>现在想来，其实当初有如下两款键盘还是值得去试一下的：<br/>
1。keycool mini 87，前面我只是说 3 边走线和盘线分离的设计比较不错，<br/>
但是对 keycool 的来历多有诟病，其实想来，plu 也不是专业做键盘的啊，<br/>
我为 plu 的声名放弃选择 keycool，多少是对 keycool 有些不公平。。。。<br/>
后面仔细看了下，发现 keycool 惹人心爱的小细节还是有不少：<br/>
一、镀金 usb 连接线<br/>
二、标准版即带无冲功能(记不太清，好像并不是全键无冲)，plu 的话带无冲的要加到 400 左右了<br/>
三、商家送的小礼品比 plu 丰富：3 色键帽 10 个，拔键器，键盘袋，<br/>
四、相比于 plu，键帽和机械轴的啮合没那么紧，拔掉键帽相对容易<br/>
五、观察了一下，脚支架比 plu 看起来牢实，plu 的脚支架掰开竟然发出砸砸的声音。。<br/>
六、如前所述，盘线分离，三边走线</p>

<p>2。网际快车 g200 的茶轴其实也可以考虑一下，<br/>
据说茶轴结合了黑轴和青轴的特色，手感虽近似于薄膜键盘，但还是存在一些差异。<br/>
我发现国产的机械键盘都包含了各自的一些特色：<br/>
plu 的就是其所谓的响应速度，是一般键盘的3倍。<br/>
keycool 的最大特色就是线盘分离、三边走线。<br/>
NeoTV zilia 竞神的就是支持有线无线两种模式以及无上盖设计。<br/>
也观察机械键盘那么久了，发现国产的机械键盘确实是有抄袭之嫌，<br/>
虽然也不乏自己所独有的特色，但是 plu ml 87 和 凯酷 mini 87 的 %80、窄边框设计<br/>
怎么看怎么就是学的国外的啊，多媒体功能支持也是差不多的情况。<br/>
我并不是不赞同学习借鉴，只是发表一些自己的看法。<br/>
其实这些借鉴也不是不行，毕竟键盘的布局大多是这种模式，<br/>
再变也变不出什么花儿来，没有遭到别人的起诉就已经很舒服了。<br/>
相比之下，苹果，三星在智能机上面经常就 “抄” 字将对方诉诸法院，<br/>
机械键盘市场的平静已是非常之难得了，还是衷心祝愿中国的机械盘制造商能够做好做大。<br/>
一不小心看到 cherry 轴的内部之后，我就觉得，其实机械盘真没什么稀罕，<br/>
能卖到几百块钱真有些炒作的成分，应了那句话——买机械盘等于烧钱。<br/>
国产机械盘的价格动辄就是好几百，我觉得 cherry 按键开关的价格就是关键因素。<br/>
换言之，即使你买的是国产机械键盘，大部分钱还是给德国赚走了。<br/>
反观大环境，肯定有不少人都是像我想的这样，要用机械盘肯定要用 cherry 生产的开关，<br/>
那啥雷柏 v7 的黄轴，精灵雷神 M1 的国产红轴，反而成了导致它们买的不好的不良因素。<br/>
我猜，即使雷柏 v7，精灵雷神 M1 的价格才 200 多，也肯定能比用 cherry 轴的生产商赚的更多。<br/>
就我个人而言，当初买机械盘就是想体验一下 cherry 生产的按键开关<br/>
突然间我觉得自己有点儿犯贱，几块钱才买那么一小坨包着几份小铁片的塑料，凭什么？<br/>
想来，不是自己脑袋有点儿发烧还真干不出来。
说来还是国产的开关自己不争气，若真有专注于产品质量、用户百般叫好的国产机械轴，<br/>
我必不对 cherry 如此执着，cherry 坑了多少中国老百姓的钱啊，也只有他们自己知道了~</p>

<blockquote><p>^ ^</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[相机选购及使用常识]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/xiang-ji-xuan-gou-ji-shi-yong-chang-shi/"/>
    <updated>2013-02-02T15:38:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/xiang-ji-xuan-gou-ji-shi-yong-chang-shi</id>
    <content type="html"><![CDATA[<p>以下概念、问答均整理自我和 Eric 的聊天记录。</p>

<!-- more -->


<p><strong>1。“微单” 和 “单反” 有什么区别？</strong><br/>
两者的根本区别是微单没有反光镜，而且感光元件比单反小，那么成像也就差些，<br/>
它类似于单反的简化版，介于卡片机和单反之间，微单的好处就是轻便，外观也好看，<br/>
个人建议，如果你是想拍摄好照片，或想学习摄影的话，还是在单反上下功夫比较好。<br/>
<img class="center" src="http://yang3wei.github.com/images/posts/dan_fan_jie_gou.jpg">
<img class="center" src="http://yang3wei.github.com/images/posts/dan_fan_tou_shi.png" width="512" height="384">
<img class="center" src="http://yang3wei.github.com/images/posts/xiang_ji_guang_quan.jpg">
<strong>2。“单电” 和 “微单”？</strong><br/>
单电和微单都是一样的，都是微型单反，只不过 SONY 自己叫微单，其它的叫单电。<br/>
微单都是数码成象吧，只有单反是物理的。对凡是通过数码成像单电原理的都叫微单。</p>

<p><strong>3。卡片机的拍摄效果和主流智能机的拍摄效果？</strong><br/>
卡片机网上有便宜的 几百块，现在两千左右的手机拍出来的效果和那种几百的区别不大了。<br/>
和几百的卡片机差不多。<br/>
问：我觉得差别应该还是有些的，结构都不一样啊？<br/>
iphone 上的镜头不能伸缩吧，而且镜头大小差异也比较大。<br/>
答：区别肯定有，不大，我是看不出低端卡片机和手机有多大区别。<br/>
看一些好的手机拍出来的样片好像不比一些卡片机差。<br/>
卡片机有个镜头上的优势，支持光学变焦（镜头可物理伸缩），<br/>
而手机镜头基本都是定焦的（不能调节焦距）。<br/>
取景大小是固定的，调整是通过调节感光元件的画幅尺寸来调整的 这样拍远景有像素损失。</p>

<p><strong>4。单电的主要卖点是什么？</strong><br/>
有单反的一些特点，比如手动（即：手动对光圈、调节曝光度、焦距、快门速度调整，<br/>
一般的卡片机好像就只能调节 iso 曝光度，再多一点就是可以调节曝光速度），<br/>
还可以换镜头（单反穷三代），体积比较小，携带轻便。<br/>
单反还有个好处，可以拍 raw 格式的图片，这种格式，如果拍照的时候光线上没有调整好，<br/>
可以通过后期处理调好。一般的卡片机是不支持 raw 格式的。<br/>
卡片机也有好有坏，佳能尼康这些大牌子</p>

<p><strong>5。什么是 iso？</strong><br/>
就是感光原件上有很多像素点，iso 就是相当于调节这个感光点的敏感度<br/>
（调节 iso 相当于非自然的处理了）。<br/>
胶片单反是没有 iso 这个参数的，那个时候拍照就一些物理指标，比如光圈和快门速度。<br/>
（接就用胶片来感光了啊，没法儿调）</p>

<p><strong>6。对光圈就是调节焦距？</strong><br/>
光圈是镜头上的一个物理装置，原理和人的瞳孔差不多，<br/>
瞳孔放大采光率高，反之亦然（和调焦不是一个概念）。</p>

<p><strong>7。纯正的单反就是指用胶片而非感光元件成像的么？</strong><br/>
不是。数码单反也是单反，单镜头反光式相机，好像全称是这个。<br/>
卡片机取景窗和镜头是分开的，单反就是为了保证取景窗和拍出来的片子是一致的画面，<br/>
在胶片或者感光元件前面加了个凌镜用来把镜头取景反射到取景窗。<br/>
以前的傻瓜相机都有个取景窗，取景窗有点像一个猫眼，和镜头成像是分开的。<br/>
为啥买单电？之前那台明基的卡片机拍出来的照片，感觉颜色还原不行，<br/>
有点儿灰蒙蒙的，一狠心就买了个单电。<br/>
PS：<br/>
在 iPod Touch 4 上面截了一张图片，放到电脑上面看竟然模糊的一塌糊涂，<br/>
看来我的显示器还原度也不行。</p>

<p><strong>8。拍照时的晃动导致成像模糊的对策 —— 光学防抖、数码防抖（也叫智能防抖）的区别是什么？</strong><br/>
问：其实我觉得拿着拍的话影响应该蛮大的，你拍的时候多少会晃动，这个时候感光就会出现问题。<br/>
答：光线好的话，影响不大，相机好不好看光线不好的情况下拍照效果是个很重要的参考。<br/>
光线好的情况下，感光元件能得到很好的发挥，另外自动拍照会在光线充足的情况下，<br/>
把快门速度调低，防抖这个时候意义不大。<br/>
主要是光线不太充足的时候，快门速度会变慢，这个时候抖一下容易模糊。<br/>
快门速度比较快的情况下，比如快的有千分之一秒的快门，这个时候你手抖一下对画面影响不大。</p>

<p><strong>9。推荐一款性价比较高的单电？</strong><br/>
松下 lumix gf3（买之前看了很久 最后犹豫在尼康j1和松下gf3之间 最后还是gf3性价比高一些）。</p>

<p><strong>10。相机拍摄输出的视频是什么格式？</strong><br/>
一般是 mov。包括很多支持录像的手机，拍摄输出的视频也是 mov。</p>

<p><strong>11。mov 有什么好处么？类似 raw？</strong><br/>
可能这种片子拍出来不需要经过太多压缩处理，也就是说能够尽可能多的保留拍摄细节，<br/>
后期你自己需要什么其他的格式的话，再做相应的压缩、格式转换处理。</p>

<p><strong>12。一厘米微距是什么意思？</strong><br/>
就是能把焦点对到离镜头只有 1cm 的位置，可以拍一些很小的东西也不模糊。<br/>
这个还有意思一点儿，这个镜头手机是很难超越了。</p>

<p><strong>13。（待续）。。。</strong></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[小孩儿喝咖啡好吗]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/xiao-hai-er-he-ka-pei-hao-ma/"/>
    <updated>2013-02-02T15:28:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/xiao-hai-er-he-ka-pei-hao-ma</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://zhidao.baidu.com/question/102837946.html">http://zhidao.baidu.com/question/102837946.html</a><br/>
我今年 14，最近期末，有很多东西要复习，作业也很多。<br/>
家里妈妈喜欢喝清咖啡，没有咖啡伴侣。<br/>
昨天晚上困得支持不住，泡了一杯清咖啡，加了牛奶喝。<br/>
今天早上又喝了一杯提神。今天确实很精神。<br/>
想问一下每天喝一杯咖啡对身体有害吗？</p>

<!-- more -->


<p>不好 影响脑部发育。</p>

<p>饮用禁忌<br/>
1.铁剂不宜与茶、牛奶、咖啡同服。因牛奶含磷高，可影响铁的吸收。<br/>
茶和咖啡中的鞣酸可使铁的吸收减少75%。宜用温开水送服。</p>

<p>2.茶叶和咖啡中的单宁酸，会让钙吸收降低。<br/>
所以，喝茶和喝咖啡的时间，最好是选在两餐当中。</p>

<p>3.含咖啡因的饮料和食品，被孕妇大量饮用后，会出现恶心、呕吐、头痛、心跳加快等症状。<br/>
咖啡因还会通过胎盘进入胎儿体内，影响胎儿发育。</p>

<p>4.不少医生认为,孕妇每天喝1~2杯(每杯6~8盎司)咖啡、茶或碳酸类饮料,不会对胎儿造成影响。<br/>
但为慎重起见,孕妇最好禁用。咖啡因可导致流产率上升,所以应喝不含咖啡因的饮料。</p>

<p>5.想减肥的人不要多饮咖啡。<br/>
常见的咖啡伴侣中含有较多的奶类、糖类和脂肪，咖啡本身可能刺激胃液分泌，<br/>
增进食物消化和吸收，不但不能瘦腰，还会使人发胖。</p>

<p>6.儿童不宜喝咖啡。<br/>
咖啡因可以兴奋儿童中枢神经系统,干扰儿童的记忆,造成儿童多动症。</p>

<p>7.浓茶、咖啡、含碳酸盐的饮料也是形成消化道溃疡病的危险因子。</p>

<p>8.紧张时添乱 咖啡因有助于提高警觉性、灵敏性、记忆力及集中力。<br/>
但饮用超过比你平常所习惯饮用量的咖啡，就会产生类似食用相同剂量的兴奋剂，会造成神经过敏。<br/>
对于倾向焦虑失调的人而言，咖啡因会导致手心冒汗、心悸、耳鸣这些症状更加恶化。</p>

<p>9.加剧高血压 咖啡因因为本身具有的止痛作用，常与其他简单的止痛剂合成复方，<br/>
但是，长期大量服用，如果你本身已有高血压时，使用大量咖啡因只会使你的情况更为严重。<br/>
因为光是咖啡因就能使血压上升，若再加上情绪紧张，就会产生危险性的相乘效果，<br/>
因此，高血压的危险人群尤其应避免在工作压力大的时候喝含咖啡因的饮料。<br/>
有些常年有喝咖啡习惯的人，以为他们对咖啡因的效果已经免疫，然而事实并非如此，<br/>
一项研究显示，喝一杯咖啡后，血压升高的时间可长达12小时。</p>

<p>10.诱发骨质疏松 咖啡因本身具有很好的利尿效果，如果长期且大量喝咖啡，容易造成骨质流失，<br/>
对骨量的保存会有不利的影响，对于妇女来说，可能会增加骨质疏松的威胁。<br/>
但前提是，平时食物中本来就缺乏摄取足够的钙，或是不经常动的人，加上更年期后的女性，<br/>
因缺少雌激素造成的钙质流失，以上这些情况再加上大量的咖啡因，才可能对骨造成威胁。<br/>
如果能够按照合理的量来享受，你还是可以做到不因噎废食的。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[多边形顶点按逆时针排列算法]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/duo-bian-xing-ding-dian-an-ni-shi-zhen-pai-lie-suan-fa/"/>
    <updated>2013-02-02T15:12:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/duo-bian-xing-ding-dian-an-ni-shi-zhen-pai-lie-suan-fa</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://www.myexception.cn/program/776883.html">http://www.myexception.cn/program/776883.html</a></p>

<!-- more -->


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">const</span> <span class="kt">double</span> <span class="n">eps</span> <span class="o">=</span> <span class="mf">1e-8</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">sign</span><span class="p">(</span><span class="kt">double</span> <span class="n">d</span><span class="p">){</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="o">-</span><span class="n">eps</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="p">(</span><span class="n">d</span> <span class="o">&gt;</span> <span class="n">eps</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 多边形类</span>
</span><span class='line'><span class="k">struct</span> <span class="n">poly</span><span class="p">{</span>
</span><span class='line'>  <span class="k">static</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">1005</span><span class="p">;</span> <span class="c1">// 点数的最大值</span>
</span><span class='line'>  <span class="n">point</span> <span class="n">ps</span><span class="p">[</span><span class="n">N</span> <span class="o">+</span> <span class="mi">5</span><span class="p">];</span> <span class="c1">// 逆时针存储多边形的点，[0, pn - 1] 存储点</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">pn</span><span class="p">;</span>  <span class="c1">// 点数</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">poly</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">pn</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// 加进一个点 </span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">push</span><span class="p">(</span><span class="n">point</span> <span class="n">tp</span><span class="p">){</span>
</span><span class='line'>      <span class="n">ps</span><span class="p">[</span><span class="n">pn</span> <span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">tp</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// 第k个位置</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">trim</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="p">){</span>
</span><span class='line'>      <span class="k">return</span> <span class="p">(</span><span class="n">k</span> <span class="o">+</span> <span class="n">pn</span><span class="p">)</span> <span class="o">%</span> <span class="n">pn</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="kt">void</span> <span class="n">clear</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="n">pn</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 多边形 org 的有向面积</span>
</span><span class='line'><span class="kt">double</span> <span class="n">signArea</span><span class="p">(</span><span class="n">poly</span> <span class="n">org</span><span class="p">){</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">g</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">ans</span><span class="p">;</span>
</span><span class='line'>  <span class="n">point</span><span class="o">*</span> <span class="n">ps</span> <span class="o">=</span> <span class="n">org</span><span class="p">.</span><span class="n">ps</span><span class="p">;</span>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="n">ans</span> <span class="o">=</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">org</span><span class="p">.</span><span class="n">pn</span><span class="p">;</span> <span class="n">i</span> <span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">g</span> <span class="o">=</span> <span class="n">org</span><span class="p">.</span><span class="n">trim</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'>      <span class="n">ans</span> <span class="o">+=</span> <span class="p">(</span><span class="n">ps</span><span class="p">[</span><span class="n">g</span><span class="p">].</span><span class="n">y</span> <span class="o">*</span> <span class="n">ps</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span> <span class="o">-</span> <span class="n">ps</span><span class="p">[</span><span class="n">g</span><span class="p">].</span><span class="n">x</span> <span class="o">*</span> <span class="n">ps</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">ans</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 如果 org 的点是逆时针的，则调整为逆时针的</span>
</span><span class='line'><span class="kt">void</span> <span class="n">makeAntclockwise</span><span class="p">(</span><span class="n">poly</span><span class="o">&amp;</span> <span class="n">org</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">sign</span><span class="p">(</span><span class="n">signArea</span><span class="p">(</span><span class="n">org</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="n">reverse</span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">ps</span><span class="p">,</span> <span class="n">org</span><span class="p">.</span><span class="n">ps</span> <span class="o">+</span> <span class="n">org</span><span class="p">.</span><span class="n">pn</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[(转载)Mac 终端关机命令]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/zhuan-zai-mac-zhong-duan-guan-ji-ming-ling/"/>
    <updated>2013-02-02T15:00:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/zhuan-zai-mac-zhong-duan-guan-ji-ming-ling</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://pulading1988.diandian.com/post/2012-04-22/17392701">http://pulading1988.diandian.com/post/2012-04-22/17392701</a><br/>
<strong>1.立即关机：</strong><br/>
<code>sudo halt</code> 或 <code>sudo shutdown -h now</code></p>

<!-- more -->


<p><strong>2.10 分钟后关机：</strong><br/>
<code>sudo shutdown -h +10</code></p>

<p><strong>3.晚上 8 点关机：</strong><br/>
<code>sudo shutdown -h 20:00</code></p>

<p><strong>4.立即重启：</strong><br/>
<code>sudo reboot</code> 或者 <code>sudo shutdown -r now</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[(转载)很好的一篇 git 入门文章]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/02/zhuan-zai-hen-hao-de-%5B%3F%5D-pian-git-ru-men-wen-zhang/"/>
    <updated>2013-02-02T00:00:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/02/zhuan-zai-hen-hao-de-[?]-pian-git-ru-men-wen-zhang</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://blog.csdn.net/ylm23_24/article/details/8561527">http://blog.csdn.net/ylm23_24/article/details/8561527</a><br/>
用了几次 git 了，一直没总结，还是不太熟。<br/>
下载和安装什么的就不说了。<br/>
Windows 下推荐 git 和 tortoise git。Linux 下的 gitk 貌似还不错。</p>

<!-- more -->


<h3>1.本地创建新仓库</h3>

<p>创建新文件夹，打开终端执行<br/>
<code>git init</code></p>

<p>这样就创建了一个新的 git 仓库</p>

<h3>2.复制仓库</h3>

<p>本地复制，创建一个本地仓库的克隆版本。<br/>
<code>git clone /path/to/repository</code></p>

<p>将远端服务器上的仓库复制到本地，就跟下载差不多，如下例<br/>
<code>git clone git@github.com:linus-young/depot.git</code></p>

<h3>3.添加与提交</h3>

<p><code>git add filename</code><br/>
<code>git commit -m "代码提交信息"</code></p>

<h3>4.推送到远端服务器</h3>

<p>在 github 上申请一个帐号，create a new repo，<br/>
创建之后其实 github 上有提示要执行哪些命令，注意两个邮箱需一致。<br/>
至于本地的配置详见 <a href="http://blog.csdn.net/ylm23_24/article/details/8297362">http://blog.csdn.net/ylm23_24/article/details/8297362</a><br/>
在当前本地文件夹下执行：<br/>
<code>git remote add origin git@github.com:linus-young/depot.git</code><br/>
<code>git push origin master</code></p>

<p>第一行代码是确定添加到 github 的哪个仓库，作为第一次提交。<br/>
第二行是将本地的所有文件上传到远端服务器上。<br/>
master 是默认分支，可改为其他分支。本地创建的其他分支默认是不可见的。</p>

<h3>5.分支</h3>

<p>master 是默认的。在其他分支上进行开发，完成后再合并到主分支上，有利于多人共同开发。<br/>
在当前本地仓库新建一个分支 test<br/>
<code>git branch test</code><br/>
若此时运行<br/>
<code>git branch</code></p>

<p>可以看到所有当前存在的分支<br/>
test<br/>
*master</p>

<p>切换到 test 分支<br/>
<code>git checkout test</code><br/>
现在来随便更改一些文件，并且提交，然后切换到 master<br/>
<strong>(edit file)</strong><br/>
<code>git commit -a -m "try branch"</code><br/>
<code>git checkout master</code></p>

<p>切换之后你打开刚刚修改过的文件，神奇的是貌似这些文件都没有被修改过！<br/>
原因是你此时处于 master 分支，test 分支里面所作的改动是不起作用的，不信的话可以用<br/>
<code>git checkout test</code><br/>
然后看看文件是否被修改了</p>

<p>然后你可以修改 master 分支下的一些文件并且提交<br/>
<strong>(edit file)</strong><br/>
<code>git commit -a -m "i just edit some file on master"</code></p>

<p>然后我们来合并 test 分支上的改动到 master 下<br/>
<code>git merge test</code></p>

<p>报错的话可以用 git diff 查看冲突<br/>
然后提交<br/>
<code>git commit -a -m "i have merged test to master"</code></p>

<p>下面这行可以删除 test 分支：<br/>
<code>git branch -d test</code></p>

<h3>6.其他常见命令</h3>

<p><code>git status</code> 查看文件状态<br/>
<code>git log</code>   查看提交的历史记录<br/>
<code>git pull</code> 和 <code>git push</code> 相反</p>

<h3>7.gitk</h3>

<p><code>gitk</code> 可以用图形化的方式很清楚地显示改动</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[(转载)Git: Why 'Everything up-to-date' when pushing]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/01/git-why-everything-up-to-date-when-pushing/"/>
    <updated>2013-02-01T23:22:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/01/git-why-everything-up-to-date-when-pushing</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://blog.rexzhao.com/2011/11/28/google-code-git-everything-up-to-date-when-push.html">http://blog.rexzhao.com/2011/11/28/google-code-git-everything-up-to-date-when-push.html</a><br/>
第一次在 <code>Google Code</code> 上弄项目，注册完毕后，<br/>
尝试增加一个新文件用以测试 Git 是否好好工作。<br/>
结果在 <code>Push</code> 时却显示 <code>Every up-to-date</code>，检查文件时却发现实际上一个都没更新上去。</p>

<!-- more -->


<p>因为对 <code>Git</code> 不够熟悉，因此只好 <code>Googling</code>，进行一番搜索后找到原因如下：</p>

<p><strong>Why does Git refuse to push, saying &#8220;everything up to date&#8221;?<br/>
git push with no additional arguments only pushes branches that exist in the remote already. <br/>
If the remote repository is empty, nothing will be pushed. <br/>
In this case, explicitly specify a branch to push, e.g. <code>git push master</code>.</strong></p>

<p>也就是说一开始 <code>git</code> 服务器仓库是完全空的，<br/>
不包含任何一个分支(<code>branch</code>)，因此刚开始 <code>Push</code> 时需要指定一个。<br/>
执行 <code>git remote -v</code> 后看到自己的 <code>remote</code> 端名字为 <code>origin</code>:</p>

<pre><code>$ git remote -v
origin  https://code.google.com/p/micolog2 (fetch) 
origin  https://code.google.com/p/micolog2 (push)
</code></pre>


<p>执行 <code>git branch</code> 后看到自己当下用的分支是 <code>master</code>:</p>

<pre><code>$ git branch 
* master
</code></pre>


<p>因此在本地 <code>commit</code> 后，再执行 <code>git push origin master</code> 即可。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mac OS X 下 git 如何升级]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/01/mac-os-x-xia-git-ru-he-sheng-ji/"/>
    <updated>2013-02-01T22:58:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/01/mac-os-x-xia-git-ru-he-sheng-ji</id>
    <content type="html"><![CDATA[<p>原帖链接：<a href="http://segmentfault.com/q/1010000000095119">http://segmentfault.com/q/1010000000095119</a><br/>
<code>Mac OS X Lion</code> 下使用 <code>which git</code> 查看 <code>git</code>，<br/>
发现当前所使用的 <code>git</code> 位于 <code>/usr/bin/git</code> 目录下，<br/>
可能是安装 <code>XCode</code> 时一起安装上来的，执行 <code>git --version</code> 得到当前版本为：<code>1.7.5.4</code>。<br/>
想升级到最新版本，下载 <code>git-osx-installer</code> 安装完成后，在命令行里查看却仍是旧版本。<br/>
查阅资料发现这个安装包是将 <code>git</code> 安装在 <code>/usr/local/git</code> 目录下的。<br/>
<strong>我想使用这个新版本的 <code>git</code>，该如何进行设置？</strong></p>

<!-- more -->


<h3>解决方案：</h3>

<p>其实是两个问题，第一个问题是高版本的 <code>git</code> 如何安装？<br/>
用 <code>git-osx-installer</code> 也好，用 <code>brew</code> 也好，都可以。<br/>
建议用 <code>brew</code> 安装：<code>brew install git</code></p>

<p>另一个问题是：如何让新安装的 <code>git</code> 覆盖老版本的 <code>git</code>？<br/>
建议用 <code>~/.bash_profile</code>，加入以下的内容：<br/>
<code>export PATH=/usr/local/git/bin:${PATH}</code><br/>
这样就可以让 <code>bash</code> 优先搜索 <code>/usr/local/git/bin</code> 下的指令，而且不会覆盖老文件，比较安全。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[(转载)How to edit your path environment variables on Mac OS X]]></title>
    <link href="http://yang3wei.github.com/blog/2013/02/01/zhuan-zai-how-to-edit-your-path-environment-variables-on-mac-os-x/"/>
    <updated>2013-02-01T22:38:00+08:00</updated>
    <id>http://yang3wei.github.com/blog/2013/02/01/zhuan-zai-how-to-edit-your-path-environment-variables-on-mac-os-x</id>
    <content type="html"><![CDATA[<p>原文链接：<br/>
<a href="http://hathaway.cc/2008/06/how-to-edit-your-path-environment-variables-on-mac-os-x/">http://hathaway.cc/2008/06/how-to-edit-your-path-environment-variables-on-mac-os-x/</a><br/>
If you are new to Mac OS X, you may need to know how to edit your PATH.<br/>
The good news is that this is an easy task on Mac OS X.</p>

<!-- more -->


<p>The recommended way is by editing your <code>.bash_profile</code> file. <br/>
This file is read and the commands in it executed by Bash every time you log in to the system. <br/>
The best part is that this file is specific to your user <br/>
so you won’t affect other users on the same system by changing it.</p>

<h3>Step 1: Open up a Terminal window(this is in your Applications/Utilites folder by default)</h3>

<h3>Step 2: Enter the follow commands:</h3>

<p><code>touch ~/.bash_profile; open ~/.bash_profile</code><br/>
This will open the <code>.bash_profile</code> file in Text Edit (the default text editor included on your system). <br/>
The file allows you to customize the environment your user runs in.</p>

<h3>Step 3: Add the following line to the end of the file adding whatever additional directory you want in your path:</h3>

<p><code>export PATH="$HOME/.rbenv/bin:$PATH"</code><br/>
That example would add <code>~/.rbenv</code> to the PATH. The <code>$PATH</code> part is important,<br/>
as it appends the existing PATH to preserve it in the new value.</p>

<h3>Step 4: Save the .bash_profile file and Quit (Command + Q) Text Edit.</h3>

<h3>Step 5: Force the .bash_profile to execute.</h3>

<p>This loads the values immediately without having to reboot. <br/>
In your Terminal window, run the following command.
<code>source ~/.bash_profile</code><br/>
That’s it!</p>

<p>Now you know how to edit the PATH on your Mac OS X computer system. <br/>
You can confirm the new path by opening a new Terminal windows and running:<br/>
<code>echo $PATH</code></p>

<p>You should now see the values you want in your PATH.</p>

<p>[Updated 2/10/2012]<br/>
The instructions now use the <code>.bash_profile</code> method of editing your PATH.<br/>
This is preferred as it keeps the changes specific to your user. <br/>
I also updated the instructions to use <code>TextEdit</code> instead of <code>vim</code> so it is easier for a beginner.</p>
]]></content>
  </entry>
  
</feed>
